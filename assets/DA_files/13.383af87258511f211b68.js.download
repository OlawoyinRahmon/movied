(window.webpackJsonp=window.webpackJsonp||[]).push([[13,3],{"+kMu":function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return u})),r.d(t,"c",(function(){return p})),r.d(t,"d",(function(){return l})),r.d(t,"e",(function(){return d}));r("QbLZ");var n=r("/f1G"),i=r.n(n),a=(r("YUnZ"),r("374s")),o=r("8ntr"),s=r("hqmY"),c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i()(a.MODEL_CONSTRAINTS).filter((function(t){return(!e.withoutFK||t.short!==a.MODEL_CONSTRAINTS.FOREIGN_KEY.short)&&(!e.withoutPK||t.short!==a.MODEL_CONSTRAINTS.PRIMARY_KEY.short)})).map((function(e){return{label:e.short,value:e.short,desc:e.label,color:e.color}}))},u=function(){return i()(a.MODEL_INDEXES).map((function(e){return{label:e.short,value:e.short,desc:e.label,color:e.color}}))},p=function(e){return"model_"+e},l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return parseFloat((e/t).toFixed(2))},d=function(){var e=s.a.get(a.SESSION_STORAGE.PROJECTID),t=o.a.get(a.LOCAL_STORAGE.MODEL_TRANSFORM+"_"+e);return{translateX:(t=t&&t.split(","))&&parseFloat(t[0])||0,translateY:t&&parseFloat(t[1])||0,scale:t&&parseFloat(t[2])||1}}},"//nA":function(e,t,r){"use strict";var n=r("q1tI"),i=r.n(n),a=r("dtw8"),o=r("Ogzj");t.a=function(e){var t=e.className,r=e.router,n=e.id;return i.a.createElement(o.a,{id:n,className:t,leftComponent:i.a.createElement("div",{className:"flex items-center text-lg"},i.a.createElement(a.a,{to:"/",className:"font-bold font-sf text-base mr-3 flex items-center whitespace-nowrap"},i.a.createElement("span",{className:"inline-block mr-2 dapiLogo w-8 h-8"}),i.a.createElement("span",null,"Dapi")),i.a.createElement(a.a,{to:"/changelog",className:"text-sm font-medium px-3 grey-desc whitespace-nowrap",activeClassName:"activeLinkBlack"},"Changelog"),i.a.createElement(a.a,{to:"/price",className:"text-sm font-medium px-3 grey-desc whitespace-nowrap",activeClassName:"activeLinkBlack"},"Pricing"),i.a.createElement(a.a,{to:"/contact",className:"text-sm font-medium px-3 grey-desc whitespace-nowrap",activeClassName:"activeLinkBlack"},"Contact")),router:r})}},"35HF":function(e,t,r){"use strict";r.r(t)},"374s":function(e,t,r){"use strict";r.r(t),r.d(t,"LOCAL_STORAGE",(function(){return c})),r.d(t,"SESSION_STORAGE",(function(){return u})),r.d(t,"DOMAIN",(function(){return p})),r.d(t,"PROD_DOMAIN",(function(){return l})),r.d(t,"API_HOST",(function(){return d})),r.d(t,"methodToLabelMapping",(function(){return f})),r.d(t,"methodToClassName",(function(){return h})),r.d(t,"KEY_CODE",(function(){return v})),r.d(t,"SIDEBAR_WIDTH",(function(){return y})),r.d(t,"MODEL_CONSTRAINTS",(function(){return m})),r.d(t,"MODEL_CONSTRAINTS_SHORT_MAPPING",(function(){return g})),r.d(t,"MODEL_INDEXES",(function(){return b})),r.d(t,"MODEL_AUTH",(function(){return k})),r.d(t,"ORGANIZATION_ROLE",(function(){return I})),r.d(t,"PROJECT_ROLE",(function(){return w})),r.d(t,"DIAGRAM_TYPE",(function(){return x})),r.d(t,"PADDLE_INSENTIVE",(function(){return j})),r.d(t,"PRICE",(function(){return E})),r.d(t,"ACTIVIY_SECTION",(function(){return O})),r.d(t,"ACTIVIY_ACTION",(function(){return _})),r.d(t,"PREVIEW_STATE",(function(){return T}));var n=r("YEIV"),i=r.n(n),a=r("QbLZ"),o=r.n(a),s=r("GQeE"),c={MODEL_TRANSFORM:"__model_transform__"},u={PROJECTID:"__current_project_id__",TEAM_INVITE_TOKEN:"__team_invite_token__",PROJECT_COLLABORATPR_INVITE_TOKEN:"__project_collaborator_invite_token__",SIGNUP_CONFIRM_TOKEN:"__signup_confirm_token__"},p="https://dapiok.com",l="https://dapiok.com",d="https://api.dapiok.com",f={get:"GET",post:"POST",patch:"PATCH",delete:"DELETE",put:"PUT",head:"HEAD",connect:"CONNECT",options:"OPTIONS",trace:"TRACE"},h={get:"getBlue",post:"postOrange",patch:"patchGreen",delete:"delRed",put:"putGreen",head:"headPurple",connect:"connectYellow",options:"optionsBrown",trace:"traceCyan"},v={DEL:8,TAB:9,ENTER:13,ESC:27,COLON:186,SPACE:32,CONTROL:17,COMMAND:91,s:83},y=100,m={PRIMARY_KEY:{label:"Primary Key",short:"PK",color:"#77B87E"},FOREIGN_KEY:{label:"Foreign Key",short:"FK",color:"#568ef2"},UNIQUE:{label:"Unique",short:"Uni",color:"#EE726D"},NOT_NULL:{label:"Not Null",short:"NoN",color:"#7A24E8"}},g=r.n(s)()(m).reduce((function(e,t){return o()({},e,i()({},m[t].short,m[t].label))}),{}),b={INDEX:{label:"Index",short:"Index",color:"#F09541"},COMPOSITE_INDEX:{label:"Composite Unique Index",short:"Compos",color:"#4f566b"}},k={PRIVATE:"private",PUBLIC:"public"},I={CREATOR:0,OWNER:1,ADMIN:2,EDITOR:3,VIEWER:4},w={CREATOR:0,OWNER:1,COLLABORATOR:2,VIEWER:3},x={FLOW:"flow",SEQUENCE:"sequence",STATE:"state"},j={VENDOR_ID:20608,PRO_MONTHLY_ID:662926,PRO_YEARLY_ID:662927,SANDBOX_VENDOR_ID:2605,SANDBOX_PRO_MONTHLY_ID:13617,SANDBOX_PRO_YEARLY_ID:13618},E={MONTHLY:29,YEARLY:290},O={API:"api",MODEL:"model",DIAGRAM:"diagram"},_={CREATE:"create",UPDATE:"update",DELETE:"delete"},T={INITIAL:"initial",BUILDING:"building",DEPLOYED:"deployed"}},"3Px7":function(e,t,r){"use strict";r.r(t)},"8ntr":function(e,t,r){"use strict";var n=r("gDS+"),i=r.n(n),a=r("EJiy"),o=r.n(a);t.a={get:function(e,t){var r=window.localStorage.getItem(e);if(!r)return r;switch(t){case"int":return parseInt(r,10);case"float":return parseFloat(r);default:return r}},set:function(e,t){"number"==typeof t&&(t=String(t)),"object"===(void 0===t?"undefined":o()(t))&&(t=i()(t)),window.localStorage.setItem(e,t)},remove:function(e){window.localStorage.removeItem(e)},clear:function(){window.localStorage.clear()}}},"99/u":function(e,t,r){"use strict";function n(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}r.d(t,"a",(function(){return n}))},EAkX:function(e,t,r){"use strict";r.r(t)},Fl18:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("q1tI"),i=r.n(n),a=r("dtw8"),o=r("TSYQ"),s=r.n(o);function c(e){var t=e.className;return i.a.createElement("div",{className:s()("Footer flex justify-between py-8 px-10 text-sm",t)},i.a.createElement("div",{className:"flex items-center"},i.a.createElement("div",{className:"dapiLogo w-5 h-5"}),i.a.createElement("p",{className:"text-sm ml-2 grey-desc"},"Â© 2021 Dapi. All rights reserved.")),i.a.createElement("div",{className:"flex items-center text-sm"},i.a.createElement(a.a,{to:"https://github.com/dapilab",target:"_blank",className:"px-3 grey-light"},"Github"),i.a.createElement(a.a,{to:"https://twitter.com/dapi_labs",target:"_blank",className:"px-3 grey-light"},"Twitter"),i.a.createElement(a.a,{to:"/changelog",className:"px-3 grey-light"},"Changelog"),i.a.createElement(a.a,{to:"/price",className:"px-3 grey-light"},"Pricing"),i.a.createElement(a.a,{to:"/contact",className:"px-3 grey-light",activeClassName:"activeLinkBlack"},"Contact"),i.a.createElement(a.a,{to:"/privacy",className:"px-3 grey-light"},"Private Privacy")))}r("v4hW")},Fu3s:function(e,t,r){"use strict";r.d(t,"c",(function(){return Z})),r.d(t,"q",(function(){return be})),r.d(t,"f",(function(){return We})),r.d(t,"r",(function(){return ze})),r.d(t,"d",(function(){return qe})),r.d(t,"n",(function(){return tt})),r.d(t,"m",(function(){return bt})),r.d(t,"k",(function(){return ft})),r.d(t,"l",(function(){return jt})),r.d(t,"s",(function(){return Tt})),r.d(t,"o",(function(){return Nt})),r.d(t,"e",(function(){return Dt})),r.d(t,"i",(function(){return Yt})),r.d(t,"g",(function(){return Gt})),r.d(t,"h",(function(){return Jt})),r.d(t,"a",(function(){return rr})),r.d(t,"b",(function(){return or})),r.d(t,"p",(function(){return gr})),r.d(t,"j",(function(){return lr}));var n=r("SEkw"),i=r.n(n),a=r("JO7F"),o=r.n(a),s=r("gDS+"),c=r.n(s),u=r("14Xm"),p=r.n(u),l=r("D3Ub"),d=r.n(l),f=r("iCc5"),h=r.n(f),v=r("V7oC"),y=r.n(v),m=r("2vnA"),g=r("mS/U"),b=r("Yz+Y"),k=r.n(b),I=r("FYw3"),w=r.n(I),x=r("mRg0"),j=r.n(x),E=r("jWXv"),O=r.n(E),_=r("QbLZ"),T=r.n(_),B=r("EJiy"),C=r.n(B),P=r("4d7F"),A=r.n(P),z=r("24Ii"),N=r.n(z),M=r("Wgwc"),S=r.n(M),R=r("QgiU"),D=r.n(R);S.a.extend(D.a);var L,F,q,Y,U,K=r("374s").API_HOST,G=function(){function e(){h()(this,e)}return y()(e,[{key:"request",value:function(e,t,r){var n=this;return new A.a((function(i,a){var o=K;n.baseAgent(e,o+t,r).withCredentials().end((function(e,t){if(e||t.statusCode>=400||r&&r.successStatus&&t.statusCode!==r.successStatus){if(t.body&&t.body.error)switch(C()(t.body.error)){case"object":return a(t.body.error);default:return a({status:t.statusCode,message:t.body.error})}if(e)return a({status:t.statusCode,message:e.message})}i(t.body)}))}))}},{key:"baseAgent",value:function(e,t,r){var n=T()({Accept:"application/json"},r&&r.headers),i=N()(e,t).set(n);if(r&&r.body){var a=r&&r.type||"json";i.type(a).send(r.body)}return r&&r.query&&i.query(r.query),i}},{key:"_genRelativeDate",value:function(e){return S()().diff(S()(e),"day")<=7?S()(e).fromNow():S()(e).format("YYYY/MM/DD HH:mm")}},{key:"create",value:function(e){var t=this;return this.request("POST",""+this.api,{body:{data:e}}).then((function(e){return t.processor?(e&&e.data&&(e.data=t.processor(e.data)),e):e}))}},{key:"findAll",value:function(){var e=this;return this.request("GET",""+this.api).then((function(t){return e.processor?T()({},t,{data:t.data.map((function(t){return e.processor(t)}))}):t}))}},{key:"findById",value:function(e){var t=this;return this.request("GET",this.api+"/"+e).then((function(e){return t.processor?T()({},e,{data:t.processor(e.data)}):e}))}},{key:"updateById",value:function(e,t){var r=this;return this.request("PATCH",this.api+"/"+e,{body:{data:t}}).then((function(e){return r.processor?e?(e.data&&(e.data=r.processor(e.data)),e):void 0:e}))}},{key:"removeById",value:function(e){return this.request("DELETE",this.api+"/"+e)}},{key:"processorUser",value:function(e){return e.avatarConfig&&(e.avatarConfig=JSON.parse(e.avatarConfig)),e}},{key:"processorProject",value:function(e){var t=this;return e.collaborators&&(e.collaborators=e.collaborators.map((function(e){return e.user&&(e.user=t.processorUser(e.user)),e}))),e.myRole&&(e.myRole=e.myRole.role),e.organization&&(e.organization=this.processorOrganization(e.organization),null==e.organization.myRole&&(e.isMyProject=!0)),e.contributors=e.contributors||[],e.contributors=e.contributors.map((function(e){return t.processorUser(e.user)})),e.tabs&&e.tabs.hide&&(e.tabs.hide=new O.a(e.tabs.hide)),e}},{key:"processorEndpoint",value:function(e){return e}},{key:"processorDiagram",value:function(e){return e.updatedAt&&(e.updatedAtString=this._genRelativeDate(e.updatedAt)),e}},{key:"processorOrganization",value:function(e){var t=this;return e.members&&(e.members=e.members.map((function(e){return e.user&&(e.user=t.processorUser(e.user)),e}))),e.projects&&(e.projects=e.projects.map((function(e){return t.processorProject(e)}))),e.myRole&&(e.myRole=e.myRole.role),e}},{key:"processorActivity",value:function(e){return e.user&&(e.user=this.processorUser(e.user)),e.createdAt&&(e.dateToDay=S()(e.createdAt).format("YYYY-MM-DD")),e}},{key:"processorApiTemplate",value:function(e){return e}},{key:"processorPreview",value:function(e){return e}}]),e}(),V=new(function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return e.api="/api/users",e.processor=e.processorUser,e}var r,n;return j()(t,e),y()(t,[{key:"updateMyInfo",value:(n=d()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("PATCH",this.api+"/my/info",{body:{data:t}});case 2:return(r=e.sent).data=this.processor(r.data),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"find",value:(r=d()(p.a.mark((function e(t){var r,n=t.email;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("POST",this.api+"/find",{body:{data:n}});case 2:return(r=e.sent).data&&(r.data=this.processor(r.data)),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"confirmSignup",value:function(e){return this.request("POST",this.api+"/my/confirm",{body:{data:e}})}},{key:"resendConfirm",value:function(){return this.request("GET",this.api+"/confirm/resend")}}]),t}(G)),H=new(function(e){function t(){return h()(this,t),w()(this,(t.__proto__||k()(t)).apply(this,arguments))}var r,n,i;return j()(t,e),y()(t,[{key:"ping",value:(i=d()(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("GET","/api/ping");case 2:return(t=e.sent).data&&(t.data=this.processorUser(t.data)),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"login",value:(n=d()(p.a.mark((function e(t){var r,n=t.email,i=t.password;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("POST","/api/auth/login",{body:{email:n,password:i}});case 2:return(r=e.sent).data=this.processorUser(r.data),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"signup",value:(r=d()(p.a.mark((function e(t){var r,n=t.email,i=t.password,a=t.name,o=t.avatarConfig;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("POST","/api/auth/signup",{body:{email:n,password:i,name:a,avatarConfig:o}});case 2:return(r=e.sent).data=this.processorUser(r.data),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"logout",value:function(){return this.request("POST","/api/auth/logout")}},{key:"authenticateGoogle",value:function(){return this.request("GET","/api/auth/google")}}]),t}(G));function W(e,t,r,n){r&&i()(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Q(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var J,X,Z=new(L=function(){function e(){h()(this,e),W(this,"isLogin",F,this),W(this,"isLoaded",q,this),W(this,"user",Y,this),W(this,"notifications",U,this)}var t,r,n,i,a,o;return y()(e,[{key:"ping",value:(o=d()(p.a.mark((function e(){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.ping();case 2:t=e.sent,r=t.data,this.user.replace(r),this.isLogin=!0;case 6:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"login",value:(a=d()(p.a.mark((function e(t){var r,n,i=t.email,a=t.password;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.login({email:i,password:a});case 2:r=e.sent,n=r.data,this.user.replace(n),this.isLogin=!0;case 6:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"signup",value:(i=d()(p.a.mark((function e(t){var r,n,i=t.email,a=t.password,o=t.name;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.signup({email:i,name:o,password:a,avatarConfig:c()(Object(g.genConfig)())});case 2:return r=e.sent,n=r.data,this.user.replace(n),this.isLogin=!0,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"logout",value:(n=d()(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.logout();case 2:this.isLogin=!1,this.user.clear();case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"loaded",value:function(){this.isLoaded=!0}},{key:"updateMyInfo",value:(r=d()(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.updateMyInfo(t);case 2:return r=e.sent,n=r.data,this.user.replace(n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"confirmSignup",value:(t=d()(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.confirmSignup(t);case 2:this.user.set("isConfirmed",!0);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"updateUser",value:function(e){this.user.replace(e)}},{key:"cancelSubs",value:function(){var e=this.user.get("membership");e.subscribed=!1,this.user.set("membership",e)}},{key:"authenticateGoogle",value:function(){return H.authenticateGoogle()}},{key:"resendConfirm",value:function(){return V.resendConfirm()}},{key:"membershipName",get:function(){var e=this.user.get("membership");if(!e)return"Starter";switch(e.type){case"pro":return"Professional"}return null}},{key:"email",get:function(){return this.user.get("email")}}]),e}(),F=Q(L.prototype,"isLogin",[m.n],{enumerable:!0,initializer:function(){return!1}}),q=Q(L.prototype,"isLoaded",[m.n],{enumerable:!0,initializer:function(){return!1}}),Y=Q(L.prototype,"user",[m.n],{enumerable:!0,initializer:function(){return m.n.map({})}}),U=Q(L.prototype,"notifications",[m.n],{enumerable:!0,initializer:function(){return[]}}),Q(L.prototype,"membershipName",[m.g],o()(L.prototype,"membershipName"),L.prototype),Q(L.prototype,"email",[m.g],o()(L.prototype,"email"),L.prototype),Q(L.prototype,"ping",[m.f],o()(L.prototype,"ping"),L.prototype),Q(L.prototype,"login",[m.f],o()(L.prototype,"login"),L.prototype),Q(L.prototype,"signup",[m.f],o()(L.prototype,"signup"),L.prototype),Q(L.prototype,"logout",[m.f],o()(L.prototype,"logout"),L.prototype),Q(L.prototype,"loaded",[m.f],o()(L.prototype,"loaded"),L.prototype),Q(L.prototype,"updateMyInfo",[m.f],o()(L.prototype,"updateMyInfo"),L.prototype),Q(L.prototype,"confirmSignup",[m.f],o()(L.prototype,"confirmSignup"),L.prototype),Q(L.prototype,"updateUser",[m.f],o()(L.prototype,"updateUser"),L.prototype),Q(L.prototype,"cancelSubs",[m.f],o()(L.prototype,"cancelSubs"),L.prototype),Q(L.prototype,"authenticateGoogle",[m.f],o()(L.prototype,"authenticateGoogle"),L.prototype),Q(L.prototype,"resendConfirm",[m.f],o()(L.prototype,"resendConfirm"),L.prototype),L),$=r("rfXi"),ee=r.n($),te=r("zT9C"),re=r.n(te);var ne,ie,ae,oe,se,ce,ue,pe,le,de=(J=function(){function e(){var t,r,n,a;h()(this,e),t=this,r="observerTrigger",a=this,(n=X)&&i()(t,r,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}return y()(e,[{key:"triggerObserver",value:function(){var e=this.observerTrigger<2?1:-1;this.observerTrigger+=e}}]),e}(),ne=J.prototype,ie="observerTrigger",ae=[m.n],oe={enumerable:!0,initializer:function(){return 1}},ce={},Object.keys(oe).forEach((function(e){ce[e]=oe[e]})),ce.enumerable=!!ce.enumerable,ce.configurable=!!ce.configurable,("value"in ce||ce.initializer)&&(ce.writable=!0),ce=ae.slice().reverse().reduce((function(e,t){return t(ne,ie,e)||e}),ce),se&&void 0!==ce.initializer&&(ce.value=ce.initializer?ce.initializer.call(se):void 0,ce.initializer=void 0),void 0===ce.initializer&&(Object.defineProperty(ne,ie,ce),ce=null),X=ce,J),fe=new(function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return e.api="/api/projects",e.processor=e.processorProject,e}var r,n,i;return j()(t,e),y()(t,[{key:"findMyAll",value:(i=d()(p.a.mark((function e(){var t,r=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("GET",""+this.api);case 2:return(t=e.sent).data=t.data.map((function(e){return r.processor(e)})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{key:"findAllByOrg",value:(n=d()(p.a.mark((function e(t){var r,n=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("GET",this.api+"/org/"+t);case 2:return(r=e.sent).data=r.data.map((function(e){return n.processor(e)})),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"addCollaborator",value:(r=d()(p.a.mark((function e(t,r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("POST",this.api+"/"+t+"/collaborators",{body:{data:r}});case 2:return(n=e.sent).data&&n.data.user&&(n.data.user=this.processorUser(n.data.user)),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"deleteCollaborator",value:function(e){var t=e.projectId,r=e.email;return this.request("DELETE",this.api+"/"+t+"/collaborators",{body:{data:{email:r}}})}},{key:"confirmCollaborator",value:function(e){return this.request("POST",this.api+"/collaborators/confirm",{body:{data:e}})}},{key:"updateTabs",value:function(e,t){return this.request("PATCH",this.api+"/"+e+"/tabs",{body:{data:t}})}}]),t}(G));function he(e,t,r,n){r&&i()(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function ve(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ye,me,ge=["api","model","diagram"],be=new(ue=function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return he(e,"myList",pe,e),he(e,"myListLoaded",le,e),e.data={},e.org={},e}var r,n,i,a,o,s,c,u;return j()(t,e),y()(t,[{key:"addProject",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.force,n=void 0!==r&&r,i=t.assign,a=void 0!==i&&i;if(n||!this.data[e.id]||a){var o=e;if(this.data[e.id]&&a){var s=this.data[e.id];o=T()({},s,o,{isMyProject:s.isMyProject})}o.organizationId&&(this.org[o.organizationId]=this.org[o.organizationId]||{data:[]},this.org[o.organizationId].data.includes(e.id)||this.org[o.organizationId].data.unshift(e.id)),this.data[e.id]=o,this.data[e.id].tabs||(this.data[e.id].tabs={}),this.data[e.id].tabs.order||(this.data[e.id].tabs.order=ge.slice(0)),this.data[e.id].tabs.hide||(this.data[e.id].tabs.hide=new O.a);var c=new O.a(ge);this.data[e.id].tabs.order=this.data[e.id].tabs.order.filter((function(e){return c.delete(e)})),c.size>0&&(this.data[e.id].tabs.order=this.data[e.id].tabs.order.concat(ee()(c)))}}},{key:"findMyAll",value:(u=d()(p.a.mark((function e(){var t,r,n,i=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.findMyAll();case 2:return t=e.sent,r=t.data,n=r.map((function(e){return e.isMyProject=!0,i.addProject(e),e.id})),this.myList.replace(n),this.myListLoaded=!0,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"findById",value:(c=d()(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.findById(t);case 2:return r=e.sent,n=r.data,this.addProject(n,{assign:!0}),this.triggerObserver(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"create",value:(s=d()(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.create(t);case 2:return r=e.sent,n=r.data,this.addProject(n),t.organizationId||this.myList.unshift(n.id),this.triggerObserver(),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"updateById",value:(o=d()(p.a.mark((function e(t,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.updateById(t,r);case 2:this.addProject(T()({},r,{id:t}),{assign:!0}),this.triggerObserver();case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"removeById",value:(a=d()(p.a.mark((function e(t){var r,n,i,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.data[t],n=r.organizationId,i=this.myList.findIndex((function(e){return e===t})),a=n?this.org[n].data.findIndex((function(e){return e===t})):-1,e.prev=4,-1!==i&&this.myList.splice(i,1),-1!==a&&this.org[n].data.splice(a,1),e.next=9,fe.removeById(t);case 9:delete this.data[t],this.triggerObserver(),e.next=19;break;case 13:throw e.prev=13,e.t0=e.catch(4),-1!==i&&this.myList.splice(i,0,t),-1!==a&&this.org[n].data.splice(a,0,t),this.triggerObserver(),e.t0;case 19:case"end":return e.stop()}}),e,this,[[4,13]])}))),function(e){return a.apply(this,arguments)})},{key:"addCollaborator",value:(i=d()(p.a.mark((function e(t,r){var n,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.addCollaborator(t,r);case 2:n=e.sent,i=n.data,this.data[t].collaborators=this.data[t].collaborators||[],this.data[t].collaborators.push(i),this.triggerObserver();case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"deleteCollaborator",value:(n=d()(p.a.mark((function e(t){var r,n=t.projectId,i=t.email;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.deleteCollaborator({projectId:n,email:i});case 2:r=this.data[n].collaborators.findIndex((function(e){return e.email===i})),this.data[n].collaborators.splice(r,1),this.triggerObserver();case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"confirmCollaborator",value:function(e){return fe.confirmCollaborator(e)}},{key:"updateTabs",value:(r=d()(p.a.mark((function e(t,r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=re()(this.data[t].tabs),this.data[t].tabs=r,this.triggerObserver(),e.prev=3,e.next=6,fe.updateTabs(t,T()({},r,{hide:r.hide?ee()(r.hide):[]}));case 6:e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(3),this.data[t].tabs=n,this.triggerObserver(),e.t0;case 13:case"end":return e.stop()}}),e,this,[[3,8]])}))),function(e,t){return r.apply(this,arguments)})}]),t}(de),pe=ve(ue.prototype,"myList",[m.n],{enumerable:!0,initializer:function(){return[]}}),le=ve(ue.prototype,"myListLoaded",[m.n],{enumerable:!0,initializer:function(){return!1}}),ve(ue.prototype,"findMyAll",[m.f],o()(ue.prototype,"findMyAll"),ue.prototype),ve(ue.prototype,"findById",[m.f],o()(ue.prototype,"findById"),ue.prototype),ve(ue.prototype,"create",[m.f],o()(ue.prototype,"create"),ue.prototype),ve(ue.prototype,"updateById",[m.f],o()(ue.prototype,"updateById"),ue.prototype),ve(ue.prototype,"removeById",[m.f],o()(ue.prototype,"removeById"),ue.prototype),ve(ue.prototype,"addCollaborator",[m.f],o()(ue.prototype,"addCollaborator"),ue.prototype),ve(ue.prototype,"deleteCollaborator",[m.f],o()(ue.prototype,"deleteCollaborator"),ue.prototype),ve(ue.prototype,"confirmCollaborator",[m.f],o()(ue.prototype,"confirmCollaborator"),ue.prototype),ve(ue.prototype,"updateTabs",[m.f],o()(ue.prototype,"updateTabs"),ue.prototype),ue),ke=r("YEIV"),Ie=r.n(ke),we=r("GQeE"),xe=r.n(we),je=r("7Cbv"),Ee=new(function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return e.api="/api/endpoints",e.processor=e.processorEndpoint,e}var r,n,i;return j()(t,e),y()(t,[{key:"findByProjectId",value:(i=d()(p.a.mark((function e(t){var r,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("GET",this.api+"/projects/"+t,{query:i});case 2:return r=e.sent,"tag"===i.group?xe()(r.data).forEach((function(e){r.data[e]=r.data[e].map((function(e){return n.processor(e)}))})):r.data&&(r.data=r.data.map((function(e){return n.processor(e)}))),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"searchAll",value:(n=d()(p.a.mark((function e(t){var r,n=this,i=t.word,a=t.projectId,o=t.type,s=void 0===o?"full":o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("POST",this.api+"/all/search",{query:{type:s},body:{data:{word:i,projectId:a}}});case 2:return(r=e.sent).data&&(r.data=r.data.map((function(e){return n.processor(e)}))),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"batchCreate",value:(r=d()(p.a.mark((function e(t){var r,n=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("POST",this.api+"/batch/create",{body:{data:t}});case 2:return(r=e.sent).data&&(r.data=r.data.map((function(e){return n.processor(e)}))),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"move",value:function(e){var t=e.id,r=e.beforeEndpointId,n=e.afterEndpointId;return this.request("POST",this.api+"/"+t+"/move",{body:{data:{beforeEndpointId:r,afterEndpointId:n}}})}}]),t}(G)),Oe=new(function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return e.api="/api/tags",e}return j()(t,e),y()(t,[{key:"findByProjectId",value:function(e){return this.request("GET",this.api+"/projects/"+e)}},{key:"move",value:function(e){var t=e.id,r=e.beforeTagId,n=e.afterTagId;return this.request("POST",this.api+"/"+t+"/move",{body:{data:{beforeTagId:r,afterTagId:n}}})}}]),t}(G));function _e(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Te,Be,Ce,Pe,Ae,ze=new(ye=function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return function(e,t,r,n){r&&i()(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(e,"projects",me,e),e.data={},e}var r,n,a,o;return j()(t,e),y()(t,[{key:"genDefaultTagId",value:function(e){return e+"_default"}},{key:"isDefaultTag",value:function(e,t){return e===this.genDefaultTagId(t)}},{key:"addTag",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.force,n=void 0!==r&&r,i=t.assign,a=void 0!==i&&i;if(n||!this.data[e.id]||a){var o=e;if(this.data[e.id]&&a){var s=this.data[e.id];o=T()({},s,o)}this.data[e.id]=o}}},{key:"create",value:(o=d()(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(je.a)(),t.id=r,this.addTag(t),this.projects.get(t.projectId).data.splice(this.projects.get(t.projectId).data.length-1,0,r),e.prev=4,e.next=7,Oe.create(t);case 7:e.next=14;break;case 9:throw e.prev=9,e.t0=e.catch(4),n=this.projects.get(t.projectId).data.findIndex((function(e){return e===r})),this.projects.get(t.projectId).data.splice(n,1),e.t0;case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e,this,[[4,9]])}))),function(e){return o.apply(this,arguments)})},{key:"updateById",value:(a=d()(p.a.mark((function e(t,r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=re()(this.data[t]),this.addTag(T()({},r,{id:t}),{assign:!0}),this.triggerObserver(),e.prev=3,e.next=6,Oe.updateById(t,r);case 6:e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(3),this.addTag(T()({},n,{id:t}),{assign:!0}),this.triggerObserver(),e.t0;case 13:case"end":return e.stop()}}),e,this,[[3,8]])}))),function(e,t){return a.apply(this,arguments)})},{key:"findByProjectId",value:(n=d()(p.a.mark((function e(t){var r,n,i,a,o=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Oe.findByProjectId(t);case 2:return r=e.sent,n=r.data,i=n.map((function(e){return o.addTag(e),e.id})),a=this.genDefaultTagId(t),this.projects.set(t,{data:i.concat([a])}),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"removeById",value:(r=d()(p.a.mark((function e(t){var r,n,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.data[t],n=r.projectId,i=this.projects.get(n).data.findIndex((function(e){return e===t})),this.projects.get(n).data.splice(i,1),e.prev=4,e.next=7,Oe.removeById(t);case 7:delete this.data[t],e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(4),this.projects.get(n).data.splice(i,0,t),e.t0;case 14:case"end":return e.stop()}}),e,this,[[4,10]])}))),function(e){return r.apply(this,arguments)})},{key:"findIdByName",value:function(e){var t=this,r=e.name,n=e.projectId;if(this.projects.has(n))return this.projects.get(n).data.find((function(e){return t.data[e]&&t.data[e].name===r}))}},{key:"changePosition",value:function(e,t,r){if(this.projects.has(e)){var n=this.projects.get(e).data[t];this.projects.get(e).data[t]=this.projects.get(e).data[r],this.projects.get(e).data[r]=n,this.triggerObserver()}}},{key:"move",value:function(e,t){if(this.projects.has(t)){var r=this.projects.get(t).data.findIndex((function(t){return t===e}));if(-1!==r){var n=0===r?null:this.projects.get(t).data[r-1],i=r===this.projects.get(t).data.length-2?null:this.projects.get(t).data[r+1];return Oe.move({id:e,beforeTagId:n,afterTagId:i})}}}}]),t}(de),me=_e(ye.prototype,"projects",[m.n],{enumerable:!0,initializer:function(){return m.n.map({})}}),_e(ye.prototype,"create",[m.f],o()(ye.prototype,"create"),ye.prototype),_e(ye.prototype,"updateById",[m.f],o()(ye.prototype,"updateById"),ye.prototype),_e(ye.prototype,"findByProjectId",[m.f],o()(ye.prototype,"findByProjectId"),ye.prototype),_e(ye.prototype,"removeById",[m.f],o()(ye.prototype,"removeById"),ye.prototype),_e(ye.prototype,"findIdByName",[m.f],o()(ye.prototype,"findIdByName"),ye.prototype),_e(ye.prototype,"changePosition",[m.f],o()(ye.prototype,"changePosition"),ye.prototype),_e(ye.prototype,"move",[m.f],o()(ye.prototype,"move"),ye.prototype),ye),Ne=new(function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return e.api="/api/components",e}return j()(t,e),y()(t,[{key:"process",value:function(e){return e}},{key:"findByProjectId",value:function(e){var t=this;return this.request("GET",this.api+"/projects/"+e).then((function(e){return T()({},e,{data:e.data.map((function(e){return t.process(e)}))})}))}},{key:"move",value:function(e){var t=e.currentComponent,r=e.beforeComponent,n=e.afterComponent;return this.request("POST",this.api+"/ordering/move",{body:{data:{currentComponent:t,beforeComponent:r,afterComponent:n}}})}}]),t}(G));function Me(e,t,r,n){r&&i()(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Se(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Re,De,Le,Fe,qe=new(Te=function(){function e(){h()(this,e),Me(this,"observerTrigger",Be,this),Me(this,"isLoaded",Ce,this),Me(this,"list",Pe,this),Me(this,"projects",Ae,this),this.data={},this.listByRanking={},this._nameData={},this._idToName={},this.isJumpingToPointed=!1,this.justAddedId=null}var t,r,n,i,a,o;return y()(e,[{key:"addComponent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.force,n=void 0!==r&&r,i=t.assign,a=void 0!==i&&i;if(n||!this.data[e.id]||a){var o=e;if(this.data[e.id]&&a){var s=this.data[e.id];o=T()({},s,o)}this.data[e.id]=o,this.registerComponentName({type:"component",projectId:o.projectId,data:o})}}},{key:"triggerObserver",value:function(){var e=this.observerTrigger<2?1:-1;this.observerTrigger+=e}},{key:"findAll",value:(o=d()(p.a.mark((function e(){var t,r,n,i=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.findAll();case 2:return t=e.sent,r=t.data,n=r.map((function(e){return i.addComponent(e),e.id})),this.list.replace(n),this.isLoaded=!0,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"findById",value:(a=d()(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.findById(t);case 2:return r=e.sent,n=r.data,this.addComponent(n,{force:!0}),this.triggerObserver(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"create",value:(i=d()(p.a.mark((function e(t,r){var n,i,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(je.a)(),t.id=n,this.addComponent(t),this.triggerObserver(),this.projects.get(t.projectId).data.unshift(n),this.justAddedId=n,setTimeout((function(){a.justAddedId=null}),1e3),r&&r(n),e.prev=8,e.next=11,Ne.create(t);case 11:e.next=18;break;case 13:throw e.prev=13,e.t0=e.catch(8),i=this.projects.get(t.projectId).data.findIndex((function(e){return e===n})),this.projects.get(t.projectId).data.splice(i,1),e.t0;case 18:case"end":return e.stop()}}),e,this,[[8,13]])}))),function(e,t){return i.apply(this,arguments)})},{key:"updateById",value:(n=d()(p.a.mark((function e(t,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.updateById(t,r);case 2:this.addComponent(T()({},r,{id:t}),{assign:!0}),this.triggerObserver();case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"removeById",value:(r=d()(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.data[t],n=this.projects.get(r.projectId).data.findIndex((function(e){return e===t})),e.prev=2,this.projects.get(r.projectId).data.splice(n,1),e.next=6,Ne.removeById(t);case 6:this.unRegisterComponent(t),delete this.data[t],this.triggerObserver(),e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(2),this.projects.get(r.projectId).data.splice(n,0,t),e.t0;case 15:case"end":return e.stop()}}),e,this,[[2,11]])}))),function(e){return r.apply(this,arguments)})},{key:"findByProjectId",value:(t=d()(p.a.mark((function e(t){var r,n,i,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ne.findByProjectId(t);case 2:return r=e.sent,n=r.data,i=n.map((function(e){return a.addComponent(e),e.id})),this.projects.set(t,{data:i}),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"registerComponentName",value:function(e){var t=e.projectId,r=e.type,n=e.data;this._nameData[t]=this._nameData[t]||{},this._nameData[t][n.name]||(this._nameData[t][n.name]={type:r,id:n.id}),this._idToName[t]=this._idToName[t]||{};var i=this._idToName[t][n.id];i&&i!==n.name&&delete this._nameData[t][i],this._idToName[t][n.id]=n.name,this.listByRanking[t]=this.listByRanking[t]||[],-1===this.listByRanking[t].findIndex((function(e){return e.id===n.id}))&&(this.listByRanking[t].push({type:r,id:n.id,ranking:n.ranking}),this.listByRanking[t].sort((function(e,t){return e.ranking-t.ranking})))}},{key:"unRegisterComponent",value:function(e){var t=this.data[e],r=t.projectId;if(this._idToName[r]&&delete this._idToName[r][e],this._nameData[r]&&delete this._nameData[r][t.name],this.listByRanking[r]){var n=this.listByRanking[r].findIndex((function(t){return t.id===e}));this.listByRanking[r].splice(n,1)}}},{key:"unRegisterModel",value:function(e){var t=e.projectId;if(this._idToName[t]&&delete this._idToName[t][e.id],this._nameData[t]&&delete this._nameData[t][e.name],this.listByRanking[t]){var r=this.listByRanking[t].findIndex((function(t){return t.id===e.id}));this.listByRanking[t].splice(r,1)}}},{key:"findByName",value:function(e){var t=e.projectId,r=e.name;if(r=r.replace(/^#\/components\/schemas\//,""),this._nameData[t]&&this._nameData[t][r])return this._nameData[t][r]}},{key:"jumpToPointed",value:function(){var e=this;this.isJumpingToPointed=!0,setTimeout((function(){e.isJumpingToPointed=!1}),1500)}},{key:"changePosition",value:function(e,t,r){if(this.listByRanking[e]){var n=this.listByRanking[e][t];this.listByRanking[e][t]=this.listByRanking[e][r],this.listByRanking[e][r]=n,this.triggerObserver()}}},{key:"move",value:function(e,t){if(this.listByRanking[t]){var r=this.listByRanking[t].findIndex((function(t){return t.id===e}));if(-1!==r){var n={id:e,type:this.listByRanking[t][r].type},i=0===r?null:{id:this.listByRanking[t][r-1].id,type:this.listByRanking[t][r-1].type},a=r===this.listByRanking[t].length-1?null:{id:this.listByRanking[t][r+1].id,type:this.listByRanking[t][r+1].type};return Ne.move({currentComponent:n,beforeComponent:i,afterComponent:a})}}}}]),e}(),Be=Se(Te.prototype,"observerTrigger",[m.n],{enumerable:!0,initializer:function(){return 1}}),Ce=Se(Te.prototype,"isLoaded",[m.n],{enumerable:!0,initializer:function(){return!1}}),Pe=Se(Te.prototype,"list",[m.n],{enumerable:!0,initializer:function(){return[]}}),Ae=Se(Te.prototype,"projects",[m.n],{enumerable:!0,initializer:function(){return m.n.map({})}}),Se(Te.prototype,"findAll",[m.f],o()(Te.prototype,"findAll"),Te.prototype),Se(Te.prototype,"findById",[m.f],o()(Te.prototype,"findById"),Te.prototype),Se(Te.prototype,"create",[m.f],o()(Te.prototype,"create"),Te.prototype),Se(Te.prototype,"updateById",[m.f],o()(Te.prototype,"updateById"),Te.prototype),Se(Te.prototype,"removeById",[m.f],o()(Te.prototype,"removeById"),Te.prototype),Se(Te.prototype,"findByProjectId",[m.f],o()(Te.prototype,"findByProjectId"),Te.prototype),Se(Te.prototype,"registerComponentName",[m.f],o()(Te.prototype,"registerComponentName"),Te.prototype),Se(Te.prototype,"unRegisterComponent",[m.f],o()(Te.prototype,"unRegisterComponent"),Te.prototype),Se(Te.prototype,"unRegisterModel",[m.f],o()(Te.prototype,"unRegisterModel"),Te.prototype),Se(Te.prototype,"findByName",[m.f],o()(Te.prototype,"findByName"),Te.prototype),Se(Te.prototype,"jumpToPointed",[m.f],o()(Te.prototype,"jumpToPointed"),Te.prototype),Se(Te.prototype,"changePosition",[m.f],o()(Te.prototype,"changePosition"),Te.prototype),Se(Te.prototype,"move",[m.f],o()(Te.prototype,"move"),Te.prototype),Te);function Ye(e,t,r,n){r&&i()(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Ue(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ke,Ge,Ve,He,We=new(Re=function(){function e(){h()(this,e),Ye(this,"observerTrigger",De,this),Ye(this,"tags",Le,this),Ye(this,"projects",Fe,this),this.data={},this._componentUsed={},this.isJumpingToPointed=!1,this.justAddedId=null}var t,r,n,i,a,o,s;return y()(e,[{key:"addEndpoint",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.force,i=void 0!==n&&n,a=r.assign,o=void 0!==a&&a,s=r.skipAddToProject,u=void 0!==s&&s,p=r.skipAddToTag,l=void 0!==p&&p;if(i||!this.data[e.id]||o){var d=e;if(this.data[e.id]&&o){var f=this.data[e.id];d=T()({},f,d)}this._componentUsed[e.id]=new O.a;var h=c()(d).match(/{"\$ref":\s*"#\/components\/schemas\/[^"]+"}/g)||[];if(h.forEach((function(r){var n=JSON.parse(r).$ref,i=qe.findByName({projectId:d.projectId,name:n});i&&t._componentUsed[e.id].add(i.id)})),this.data[e.id]=d,d.projectId&&!u&&(this.projects.has(d.projectId)||this.projects.set(d.projectId,{data:[]}),this.projects.get(d.projectId).data.includes(d.id)||this.projects.get(d.projectId).data.push(d.id)),!l){var v=d.tagId||ze.genDefaultTagId(d.projectId);this.tags.has(v)||this.tags.set(v,{data:[]}),this.tags.get(v).data.includes(d.id)||this.tags.get(v).data.push(d.id)}}}},{key:"triggerObserver",value:function(){var e=this.observerTrigger<2?1:-1;this.observerTrigger+=e}},{key:"findByProjectId",value:(s=d()(p.a.mark((function e(t){var r,n,i,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.findByProjectId(t,{group:"tag"});case 2:return r=e.sent,n=r.data,i=[],xe()(n).forEach((function(e){var r=n[e].map((function(e){return a.addEndpoint(e,{skipAddToProject:!0}),e.id}));i=i.concat(r);var o="default"===e&&ze.genDefaultTagId(t)||e;a.tags.set(o,{data:r})})),this.projects.set(t,{data:i}),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"create",value:(o=d()(p.a.mark((function e(t,r){var n,i,a,o,s=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(je.a)(),t.id=n,this.addEndpoint(t),this.justAddedId=t.id,setTimeout((function(){s.justAddedId=null}),1e3),r&&r(n),e.prev=6,t.tagId&&ze.isDefaultTag(t.tagId,t.projectId)&&(t.tagId=null),e.next=10,Ee.create(t);case 10:e.next=20;break;case 12:throw e.prev=12,e.t0=e.catch(6),i=t.tagId||ze.genDefaultTagId(t.projectId),a=this.projects.get(t.projectId).data.findIndex((function(e){return e===n})),this.projects.get(t.projectId).data.splice(a,1),o=this.tags.get(i).data.findIndex((function(e){return e===n})),this.tags.get(i).data.splice(o,1),e.t0;case 20:case"end":return e.stop()}}),e,this,[[6,12]])}))),function(e,t){return o.apply(this,arguments)})},{key:"createBatch",value:(a=d()(p.a.mark((function e(t){var r,n,i=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=t.map((function(e){return e.tagId&&ze.isDefaultTag(e.tagId,e.projectId)&&(e.tagId=null),e})),e.next=3,Ee.batchCreate(t);case 3:r=e.sent,(n=r.data).forEach((function(e){i.addEndpoint(e)})),this.justAddedId=n[0].id,setTimeout((function(){i.justAddedId=null}),1e3);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"updateById",value:(i=d()(p.a.mark((function e(t,r){var n,i,a,o,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.data[t].tagId||null,i=null,r.tag&&(a=ze.findIdByName({projectId:this.data[t].projectId,name:r.tag}),r.tagId=a||null,i=a),e.next=5,Ee.updateById(t,r);case 5:return this.addEndpoint(T()({},r,{id:t}),{assign:!0,skipAddToTag:!0}),o=this.data[t],i&&n!==i&&(n=n||ze.genDefaultTagId(o.projectId),i=i||ze.genDefaultTagId(o.projectId),-1!==(s=this.tags.get(n).data.findIndex((function(e){return e===t})))&&this.tags.get(n).data.splice(s,1),this.tags.get(i)||this.tags.set(i,{data:[]}),this.tags.get(i).data.includes(t)||this.tags.get(i).data.push(t)),this.triggerObserver(),e.abrupt("return",{tagChanged:n!==i,endpointId:t});case 10:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"removeById",value:(n=d()(p.a.mark((function e(t){var r,n,i,a,o,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.data[t],n=r.tagId,i=r.projectId,a=this.projects.get(i).data.findIndex((function(e){return e===t})),o=n||ze.genDefaultTagId(i),s=this.tags.get(o).data.findIndex((function(e){return e===t})),e.prev=5,this.projects.get(i).data.splice(a,1),this.tags.get(o).data.splice(s,1),e.next=10,Ee.removeById(t);case 10:delete this._componentUsed[t],delete this.data[t],this.triggerObserver(),e.next=20;break;case 15:throw e.prev=15,e.t0=e.catch(5),this.projects.get(i).data.splice(a,0,t),this.tags.get(o).data.splice(s,0,t),e.t0;case 20:case"end":return e.stop()}}),e,this,[[5,15]])}))),function(e){return n.apply(this,arguments)})},{key:"toOpenAPIFormat",value:function(e){var t=this.data[e],r=ze.data[t.tagId],n=t.url||"url...",i=Ie()({},n,Ie()({},t.method,{summary:t.name||null,description:t.description,tags:r&&[r.name]||null,parameters:t.parameters||null,requestBody:t.requestBody||null,responses:t.responses||null}));return xe()(i[n][t.method]).forEach((function(e){"description"===e||i[n][t.method][e]||delete i[n][t.method][e]})),i}},{key:"jumpToPointed",value:function(){var e=this;this.isJumpingToPointed=!0,setTimeout((function(){e.isJumpingToPointed=!1}),1500)}},{key:"searchAll",value:(r=d()(p.a.mark((function e(t){var r,n,i=t.word,a=t.projectId,o=t.type;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.searchAll({word:i,projectId:a,type:o});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"removeTag",value:function(e){if(this.tags.has(e)){var t=this.tags.get(e).data[0];if(t){var r=this.data[t].projectId;this.moveToDefaultTag(e,r),this.tags.delete(e)}}}},{key:"moveToDefaultTag",value:function(e,t){var r=this,n=ze.genDefaultTagId(t);this.tags.has(n)||this.tags.set(n,{data:[]}),this.tags.get(e).data.forEach((function(e){r.data[e].tagId=null,r.tags.get(n).data.push(e)}))}},{key:"findByComponentUsed",value:function(e){var t=this;return xe()(this._componentUsed).filter((function(r){return t._componentUsed[r].has(e)}))}},{key:"searchEndpoint",value:function(e,t){var r=this,n=this.projects.get(t).data.filter((function(t){var n=r.data[t];return!!n&&new RegExp(""+e,"i").test(n.name+" "+n.description+" "+n.url)})),i=ee()(new O.a(n.map((function(e){var t=r.data[e];return t.tagId||ze.genDefaultTagId(t.projectId)}))));return{endpointIds:0===n.length?null:n,tagIds:0===i.length?null:i}}},{key:"duplicate",value:(t=d()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return delete(r=re()(this.data[t])).id,e.next=4,this.create(r);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"changePosition",value:function(e,t,r){if(this.tags.has(e)){var n=this.tags.get(e).data[t];this.tags.get(e).data[t]=this.tags.get(e).data[r],this.tags.get(e).data[r]=n,this.triggerObserver()}}},{key:"move",value:function(e,t){if(this.tags.has(t)){var r=this.tags.get(t).data.findIndex((function(t){return t===e}));if(-1!==r){var n=0===r?null:this.tags.get(t).data[r-1],i=r===this.tags.get(t).data.length-1?null:this.tags.get(t).data[r+1];return Ee.move({id:e,beforeEndpointId:n,afterEndpointId:i})}}}}]),e}(),De=Ue(Re.prototype,"observerTrigger",[m.n],{enumerable:!0,initializer:function(){return 1}}),Le=Ue(Re.prototype,"tags",[m.n],{enumerable:!0,initializer:function(){return m.n.map({})}}),Fe=Ue(Re.prototype,"projects",[m.n],{enumerable:!0,initializer:function(){return m.n.map({})}}),Ue(Re.prototype,"findByProjectId",[m.f],o()(Re.prototype,"findByProjectId"),Re.prototype),Ue(Re.prototype,"create",[m.f],o()(Re.prototype,"create"),Re.prototype),Ue(Re.prototype,"createBatch",[m.f],o()(Re.prototype,"createBatch"),Re.prototype),Ue(Re.prototype,"updateById",[m.f],o()(Re.prototype,"updateById"),Re.prototype),Ue(Re.prototype,"removeById",[m.f],o()(Re.prototype,"removeById"),Re.prototype),Ue(Re.prototype,"toOpenAPIFormat",[m.f],o()(Re.prototype,"toOpenAPIFormat"),Re.prototype),Ue(Re.prototype,"jumpToPointed",[m.f],o()(Re.prototype,"jumpToPointed"),Re.prototype),Ue(Re.prototype,"searchAll",[m.f],o()(Re.prototype,"searchAll"),Re.prototype),Ue(Re.prototype,"removeTag",[m.f],o()(Re.prototype,"removeTag"),Re.prototype),Ue(Re.prototype,"moveToDefaultTag",[m.f],o()(Re.prototype,"moveToDefaultTag"),Re.prototype),Ue(Re.prototype,"findByComponentUsed",[m.f],o()(Re.prototype,"findByComponentUsed"),Re.prototype),Ue(Re.prototype,"searchEndpoint",[m.f],o()(Re.prototype,"searchEndpoint"),Re.prototype),Ue(Re.prototype,"duplicate",[m.f],o()(Re.prototype,"duplicate"),Re.prototype),Ue(Re.prototype,"changePosition",[m.f],o()(Re.prototype,"changePosition"),Re.prototype),Ue(Re.prototype,"move",[m.f],o()(Re.prototype,"move"),Re.prototype),Re),Qe=r("4b23");function Je(e,t,r,n){r&&i()(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Xe(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Ze,$e,et,tt=new(Ke=function(){function e(){h()(this,e),Je(this,"list",Ge,this),Je(this,"isAskToBuyMembershipOpen",Ve,this),Je(this,"isAskToConfirmEmailOpen",He,this)}var t,r,n;return y()(e,[{key:"notifySuccess",value:(n=d()(p.a.mark((function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.notify(T()({type:"success",message:t},r));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"notifyError",value:(r=d()(p.a.mark((function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.notify(T()({type:"error",message:t},r));case 1:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"notify",value:(t=d()(p.a.mark((function e(t){var r,n=this,i=t.type,a=t.message,o=t.delay,s=void 0===o?3500:o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="id-"+Object(Qe.b)(),this.list.unshift({id:r,type:i,message:a}),s&&window.setTimeout((function(){var e=n.list.findIndex((function(e){return e.id===r}));n.list.splice(e,1)}),s);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"openBuyMembership",value:function(){this.isAskToBuyMembershipOpen=!0}},{key:"closeBuyMembership",value:function(){this.isAskToBuyMembershipOpen=!1}},{key:"openConfirmEmail",value:function(){this.isAskToConfirmEmailOpen=!0}},{key:"closeConfirmEmail",value:function(){this.isAskToConfirmEmailOpen=!1}}]),e}(),Ge=Xe(Ke.prototype,"list",[m.n],{enumerable:!0,initializer:function(){return[]}}),Ve=Xe(Ke.prototype,"isAskToBuyMembershipOpen",[m.n],{enumerable:!0,initializer:function(){return!1}}),He=Xe(Ke.prototype,"isAskToConfirmEmailOpen",[m.n],{enumerable:!0,initializer:function(){return!1}}),Xe(Ke.prototype,"notifySuccess",[m.f],o()(Ke.prototype,"notifySuccess"),Ke.prototype),Xe(Ke.prototype,"notifyError",[m.f],o()(Ke.prototype,"notifyError"),Ke.prototype),Xe(Ke.prototype,"notify",[m.f],o()(Ke.prototype,"notify"),Ke.prototype),Xe(Ke.prototype,"openBuyMembership",[m.f],o()(Ke.prototype,"openBuyMembership"),Ke.prototype),Xe(Ke.prototype,"closeBuyMembership",[m.f],o()(Ke.prototype,"closeBuyMembership"),Ke.prototype),Xe(Ke.prototype,"openConfirmEmail",[m.f],o()(Ke.prototype,"openConfirmEmail"),Ke.prototype),Xe(Ke.prototype,"closeConfirmEmail",[m.f],o()(Ke.prototype,"closeConfirmEmail"),Ke.prototype),Ke),rt=new(function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return e.api="/api/models",e}return j()(t,e),y()(t,[{key:"findAllByProject",value:function(e){return this.request("GET",this.api+"/projects/"+e)}}]),t}(G)),nt=r("FyfS"),it=r.n(nt),at=new(function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return e.api="/api/model-items",e}return j()(t,e),t}(G)),ot=r("374s"),st=r("MtYX"),ct=r("+kMu");function ut(e,t,r,n){r&&i()(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function pt(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var lt,dt,ft=new(Ze=function(){function e(){h()(this,e),ut(this,"observerTrigger",$e,this),ut(this,"model",et,this),this.data={},this._fkItemMap={}}var t,r,n,i,a,o,s;return y()(e,[{key:"addModelItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.force,n=void 0!==r&&r,i=t.assign,a=void 0!==i&&i;if(n||!this.data[e.id]||a){var o=e;if(this.data[e.id]&&a){var s=this.data[e.id];o=T()({},s,o)}if(o.constraints=o.constraints||[],o.indexes=o.indexes||[],o.compositeIndexes=o.compositeIndexes||[],this.data[e.id]=o,e.modelId&&(this.model[e.modelId]=this.model[e.modelId]||{data:[]},this.model[e.modelId].data.includes(e.id)||this.model[e.modelId].data.push(e.id)),e.fk){var c=e.fk.id;this._fkItemMap[c]=this._fkItemMap[c]||new O.a,this._fkItemMap[c].add(e.id)}}}},{key:"triggerObserver",value:function(){var e=this.observerTrigger<2?1:-1;this.observerTrigger+=e}},{key:"isPK",value:function(e){return!!this.data[e]&&this.data[e].constraints.includes(ot.MODEL_CONSTRAINTS.PRIMARY_KEY.short)}},{key:"isFK",value:function(e){return!!this.data[e]&&this.data[e].constraints.includes(ot.MODEL_CONSTRAINTS.FOREIGN_KEY.short)}},{key:"findById",value:(s=d()(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at.findById(t);case 2:return r=e.sent,n=r.data,this.addModelItem(n,{force:!0}),this.triggerObserver(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"create",value:(o=d()(p.a.mark((function e(t){var r,n,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id=t.id||Object(je.a)(),t.fkId&&(t.fk={id:t.fkId,modelId:this.data[t.fkId].modelId}),this.addModelItem(t),this.triggerObserver(),e.prev=4,e.next=7,at.create(t);case 7:return r=e.sent,n=r.data,this._createPKLine(n.id),e.next=12,this._composedKeyCheckForAdd(n.id,n.model.name);case 12:e.next=20;break;case 14:throw e.prev=14,e.t0=e.catch(4),-1!==(i=this.model[t.modelId].data.findIndex((function(e){return e===t.id})))&&this.model[t.modelId].data.splice(i,1),this.triggerObserver(),e.t0;case 20:case"end":return e.stop()}}),e,this,[[4,14]])}))),function(e){return o.apply(this,arguments)})},{key:"_createPKLine",value:function(e){if(this.isFK(e)){var t=this.data[e],r=Object(ct.e)().scale;st.a.registerLine(t.modelId,t.fk.modelId,t.composedId,r)}}},{key:"_composedKeyCheckForAdd",value:(a=d()(p.a.mark((function e(t){var r,n,i,a,o,s,c,u,l,d,f,h,v=this,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isPK(t)){e.next=2;break}return e.abrupt("return");case 2:if(r=this.data[t],n=r.modelId,this.model[n]){e.next=6;break}return e.abrupt("return");case 6:if(0!==(i=this.model[n].data.filter((function(e){return e!==t&&v.isPK(e)}))).length){e.next=9;break}return e.abrupt("return");case 9:if(a=i[0],this._fkItemMap[a]&&0!==this._fkItemMap[a].size){e.next=12;break}return e.abrupt("return");case 12:o=ee()(this._fkItemMap[a]),s=!0,c=!1,u=void 0,e.prev=16,l=it()(o);case 18:if(s=(d=l.next()).done){e.next=27;break}if(f=d.value,!(h=this.data[f])){e.next=24;break}return e.next=24,this.create({column:y+"_"+r.column,type:null,modelId:h.modelId,constraints:[ot.MODEL_CONSTRAINTS.FOREIGN_KEY.short],fkId:t,composedId:h.composedId});case 24:s=!0,e.next=18;break;case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(16),c=!0,u=e.t0;case 33:e.prev=33,e.prev=34,!s&&l.return&&l.return();case 36:if(e.prev=36,!c){e.next=39;break}throw u;case 39:return e.finish(36);case 40:return e.finish(33);case 41:case"end":return e.stop()}}),e,this,[[16,29,33,41],[34,,36,40]])}))),function(e){return a.apply(this,arguments)})},{key:"updateById",value:(i=d()(p.a.mark((function e(t,r){var n,i,a,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=re()(this.data[t]),this.addModelItem(T()({},r,{id:t}),{assign:!0}),this.triggerObserver(),e.prev=3,i=this.isPK(t),e.next=7,at.updateById(t,r);case 7:if(a=this.data[t],!(o=this.isPK(t))||i){e.next=12;break}return e.next=12,this._composedKeyCheckForAdd(t,a.model.name);case 12:if(!i||o){e.next=15;break}return e.next=15,this._removeFKOnOtherTables(t);case 15:e.next=22;break;case 17:throw e.prev=17,e.t0=e.catch(3),this.addModelItem(T()({},n,{id:t}),{assign:!0}),this.triggerObserver(),e.t0;case 22:case"end":return e.stop()}}),e,this,[[3,17]])}))),function(e,t){return i.apply(this,arguments)})},{key:"_removeFKOnOtherTables",value:(n=d()(p.a.mark((function e(t){var r,n,i,a,o,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._fkItemMap[t]){e.next=28;break}r=!0,n=!1,i=void 0,e.prev=4,a=it()(this._fkItemMap[t].values());case 6:if(r=(o=a.next()).done){e.next=13;break}return s=o.value,e.next=10,this.removeById(s,{skipComposedChecking:!0});case 10:r=!0,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),n=!0,i=e.t0;case 19:e.prev=19,e.prev=20,!r&&a.return&&a.return();case 22:if(e.prev=22,!n){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:delete this._fkItemMap[t];case 28:case"end":return e.stop()}}),e,this,[[4,15,19,27],[20,,22,26]])}))),function(e){return n.apply(this,arguments)})},{key:"removeById",value:(r=d()(p.a.mark((function e(t){var r,n,i,a,o,s,c,u,l,d,f,h,v,y=this,m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},g=m.skipComposedChecking,b=void 0!==g&&g;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.data[t]){e.next=3;break}return e.abrupt("return");case 3:return n=r.modelId,i=r.composedId,a=this.model[n].data.findIndex((function(e){return e===t})),e.prev=5,this.model[n].data.splice(a,1),e.next=9,at.removeById(t);case 9:if(!this.isPK(t)){e.next=12;break}return e.next=12,this._removeFKOnOtherTables(t);case 12:if(!this.isFK(t)){e.next=43;break}if(st.a.removeLine(r.composedId),b){e.next=42;break}o=this.model[n].data.filter((function(e){return e!==t&&y.data[e].composedId===i})),s=!0,c=!1,u=void 0,e.prev=19,l=it()(o);case 21:if(s=(d=l.next()).done){e.next=28;break}return f=d.value,e.next=25,this.removeById(f,{skipComposedChecking:!0});case 25:s=!0,e.next=21;break;case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(19),c=!0,u=e.t0;case 34:e.prev=34,e.prev=35,!s&&l.return&&l.return();case 37:if(e.prev=37,!c){e.next=40;break}throw u;case 40:return e.finish(37);case 41:return e.finish(34);case 42:this._fkItemMap[r.fk.id].delete(t);case 43:h=Object(ct.e)(),v=h.scale,st.a.moveModel(n,v),delete this.data[t],this.triggerObserver(),e.next=54;break;case 49:throw e.prev=49,e.t1=e.catch(5),this.model[n].data.splice(a,0,t),this.triggerObserver(),e.t1;case 54:case"end":return e.stop()}}),e,this,[[5,49],[19,30,34,42],[35,,37,41]])}))),function(e){return r.apply(this,arguments)})},{key:"removeModel",value:(t=d()(p.a.mark((function e(t){var r,n,i,a,o,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.model[t]){e.next=28;break}r=!0,n=!1,i=void 0,e.prev=4,a=it()(this.model[t].data.slice(0));case 6:if(r=(o=a.next()).done){e.next=13;break}return s=o.value,e.next=10,this.removeById(s);case 10:r=!0,e.next=6;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),n=!0,i=e.t0;case 19:e.prev=19,e.prev=20,!r&&a.return&&a.return();case 22:if(e.prev=22,!n){e.next=25;break}throw i;case 25:return e.finish(22);case 26:return e.finish(19);case 27:delete this.model[t];case 28:case"end":return e.stop()}}),e,this,[[4,15,19,27],[20,,22,26]])}))),function(e){return t.apply(this,arguments)})}]),e}(),$e=pt(Ze.prototype,"observerTrigger",[m.n],{enumerable:!0,initializer:function(){return 1}}),et=pt(Ze.prototype,"model",[m.n],{enumerable:!0,initializer:function(){return{}}}),pt(Ze.prototype,"isPK",[m.f],o()(Ze.prototype,"isPK"),Ze.prototype),pt(Ze.prototype,"isFK",[m.f],o()(Ze.prototype,"isFK"),Ze.prototype),pt(Ze.prototype,"findById",[m.f],o()(Ze.prototype,"findById"),Ze.prototype),pt(Ze.prototype,"create",[m.f],o()(Ze.prototype,"create"),Ze.prototype),pt(Ze.prototype,"_createPKLine",[m.f],o()(Ze.prototype,"_createPKLine"),Ze.prototype),pt(Ze.prototype,"updateById",[m.f],o()(Ze.prototype,"updateById"),Ze.prototype),pt(Ze.prototype,"removeById",[m.f],o()(Ze.prototype,"removeById"),Ze.prototype),pt(Ze.prototype,"removeModel",[m.f],o()(Ze.prototype,"removeModel"),Ze.prototype),Ze);function ht(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var vt,yt,mt,gt,bt=new(lt=function(){function e(){h()(this,e),function(e,t,r,n){r&&i()(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(this,"observerTrigger",dt,this),this.data={},this.projects={}}var t,r,n,a,o;return y()(e,[{key:"addModel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.force,n=void 0!==r&&r,i=t.assign,a=void 0!==i&&i;if(n||!this.data[e.id]||a){var o=e;if(this.data[e.id]&&a){var s=this.data[e.id];o=T()({},s,o)}o.items=o.items||[],o.items=o.items.map((function(e){return"string"==typeof e?e:(ft.addModelItem(T()({},e,{modelId:o.id})),e.id)})),this.data[e.id]=o,qe.registerComponentName({type:"model",projectId:o.projectId,data:o})}}},{key:"triggerObserver",value:function(){var e=this.observerTrigger<2?1:-1;this.observerTrigger+=e}},{key:"findById",value:(o=d()(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt.findById(t);case 2:return r=e.sent,n=r.data,this.addModel(n,{force:!0}),this.triggerObserver(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"create",value:(a=d()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=T()({},t,{hide:[],auth:ot.MODEL_AUTH.PUBLIC}),this.addModel(t),this.projects[t.projectId]=this.projects[t.projectId]||{data:[],isAllLoaded:!0},this.projects[t.projectId].data.unshift(t.id),this.triggerObserver(),e.prev=5,e.next=8,rt.create(t);case 8:e.next=16;break;case 10:throw e.prev=10,e.t0=e.catch(5),r=this.projects[t.projectId].data.findIndex((function(e){return e===t.id})),this.projects[t.projectId].data.splice(r,1),this.triggerObserver(),e.t0;case 16:case"end":return e.stop()}}),e,this,[[5,10]])}))),function(e){return a.apply(this,arguments)})},{key:"updateById",value:(n=d()(p.a.mark((function e(t,r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=re()(this.data[t]),this.addModel(T()({},r,{id:t}),{assign:!0}),this.triggerObserver(),e.prev=3,e.next=6,rt.updateById(t,r);case 6:e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(3),this.addModel(T()({},n,{id:t}),{assign:!0}),this.triggerObserver(),e.t0;case 13:case"end":return e.stop()}}),e,this,[[3,8]])}))),function(e,t){return n.apply(this,arguments)})},{key:"removeById",value:(r=d()(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.data[t],n=this.projects[r.projectId].data.findIndex((function(e){return e===t})),e.prev=2,this.projects[r.projectId].data.splice(n,1),e.next=6,rt.removeById(t);case 6:return qe.unRegisterModel(r),e.next=9,ft.removeModel(r.id);case 9:delete this.data[t],this.triggerObserver(),e.next=18;break;case 13:throw e.prev=13,e.t0=e.catch(2),this.projects[r.projectId].data.splice(n,0,t),this.triggerObserver(),e.t0;case 18:case"end":return e.stop()}}),e,this,[[2,13]])}))),function(e){return r.apply(this,arguments)})},{key:"findAllByProject",value:(t=d()(p.a.mark((function e(t){var r,n,i,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,rt.findAllByProject(t);case 2:return r=e.sent,n=r.data,i=n.map((function(e){return a.addModel(e),e.id})),this.projects[t]={data:i,isAllLoaded:!0},this.triggerObserver(),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"findAllPKItems",value:function(e){return ft.model[e]?ft.model[e].data.filter((function(e){return ft.isPK(e)})).map((function(e){return ft.data[e]})):[]}}]),e}(),dt=ht(lt.prototype,"observerTrigger",[m.n],{enumerable:!0,initializer:function(){return 1}}),ht(lt.prototype,"findById",[m.f],o()(lt.prototype,"findById"),lt.prototype),ht(lt.prototype,"create",[m.f],o()(lt.prototype,"create"),lt.prototype),ht(lt.prototype,"updateById",[m.f],o()(lt.prototype,"updateById"),lt.prototype),ht(lt.prototype,"removeById",[m.f],o()(lt.prototype,"removeById"),lt.prototype),ht(lt.prototype,"findAllByProject",[m.f],o()(lt.prototype,"findAllByProject"),lt.prototype),ht(lt.prototype,"findAllPKItems",[m.f],o()(lt.prototype,"findAllPKItems"),lt.prototype),lt),kt=new(function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return e.api="/api/model-notes",e}return j()(t,e),y()(t,[{key:"findAllByProject",value:function(e){return this.request("GET",this.api+"/projects/"+e)}}]),t}(G));function It(e,t,r,n){r&&i()(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function wt(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var xt,jt=new(vt=function(){function e(){h()(this,e),It(this,"observerTrigger",yt,this),It(this,"isLoaded",mt,this),It(this,"list",gt,this),this.data={},this.projects={}}var t,r,n,i,a,o;return y()(e,[{key:"addModelNote",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.force,n=void 0!==r&&r,i=t.assign,a=void 0!==i&&i;if(n||!this.data[e.id]||a){var o=e;if(this.data[e.id]&&a){var s=this.data[e.id];o=T()({},s,o)}this.data[e.id]=o}}},{key:"triggerObserver",value:function(){var e=this.observerTrigger<2?1:-1;this.observerTrigger+=e}},{key:"findAll",value:(o=d()(p.a.mark((function e(){var t,r,n,i=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt.findAll();case 2:return t=e.sent,r=t.data,n=r.map((function(e){return i.addModelNote(e),e.id})),this.list.replace(n),this.isLoaded=!0,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"findById",value:(a=d()(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt.findById(t);case 2:return r=e.sent,n=r.data,this.addModelNote(n,{force:!0}),this.triggerObserver(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"create",value:(i=d()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.id=Object(je.a)(),this.addModelNote(t),this.projects[t.projectId]=this.projects[t.projectId]||{data:[],isAllLoaded:!0},this.projects[t.projectId].data.unshift(t.id),this.triggerObserver(),e.prev=5,e.next=8,kt.create(t);case 8:e.next=16;break;case 10:throw e.prev=10,e.t0=e.catch(5),r=this.projects[t.projectId].data.findIndex((function(e){return e===t.id})),this.projects[t.projectId].data.splice(r,1),this.triggerObserver(),e.t0;case 16:case"end":return e.stop()}}),e,this,[[5,10]])}))),function(e){return i.apply(this,arguments)})},{key:"updateById",value:(n=d()(p.a.mark((function e(t,r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=re()(this.data[t]),this.addModelNote(T()({},r,{id:t}),{assign:!0}),this.triggerObserver(),e.prev=3,e.next=6,kt.updateById(t,r);case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(3),this.addModelNote(T()({},n,{id:t}),{assign:!0}),this.triggerObserver();case 12:case"end":return e.stop()}}),e,this,[[3,8]])}))),function(e,t){return n.apply(this,arguments)})},{key:"removeById",value:(r=d()(p.a.mark((function e(t){var r,n,i,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.data[t],n=r.projectId,i=this.list.findIndex((function(e){return e===t})),a=this.projects[n].data.findIndex((function(e){return e===t})),e.prev=4,this.list.splice(i,1),this.projects[n].data.splice(a,1),e.next=9,kt.removeById(t);case 9:delete this.data[t],this.triggerObserver(),e.next=18;break;case 13:throw e.prev=13,e.t0=e.catch(4),this.list.splice(i,0,t),this.projects[n].data.splice(a,0,t),e.t0;case 18:case"end":return e.stop()}}),e,this,[[4,13]])}))),function(e){return r.apply(this,arguments)})},{key:"findAllByProject",value:(t=d()(p.a.mark((function e(t){var r,n,i,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,kt.findAllByProject(t);case 2:return r=e.sent,n=r.data,i=n.map((function(e){return a.addModelNote(e),e.id})),this.projects[t]={data:i,isAllLoaded:!0},this.triggerObserver(),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}(),yt=wt(vt.prototype,"observerTrigger",[m.n],{enumerable:!0,initializer:function(){return 1}}),mt=wt(vt.prototype,"isLoaded",[m.n],{enumerable:!0,initializer:function(){return!1}}),gt=wt(vt.prototype,"list",[m.n],{enumerable:!0,initializer:function(){return[]}}),wt(vt.prototype,"findAll",[m.f],o()(vt.prototype,"findAll"),vt.prototype),wt(vt.prototype,"findById",[m.f],o()(vt.prototype,"findById"),vt.prototype),wt(vt.prototype,"create",[m.f],o()(vt.prototype,"create"),vt.prototype),wt(vt.prototype,"updateById",[m.f],o()(vt.prototype,"updateById"),vt.prototype),wt(vt.prototype,"removeById",[m.f],o()(vt.prototype,"removeById"),vt.prototype),wt(vt.prototype,"findAllByProject",[m.f],o()(vt.prototype,"findAllByProject"),vt.prototype),vt);var Et,Ot,_t,Tt=new(function(e,t,r,n,i){var a={};Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null)}((xt=function(){function e(){h()(this,e)}var t;return y()(e,[{key:"find",value:(t=d()(p.a.mark((function e(t){var r,n,i=t.email;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.find({email:i});case 2:return r=e.sent,n=r.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}()).prototype,"find",[m.f],o()(xt.prototype,"find"),xt.prototype),xt),Bt=new(function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return e.api="/api/organizations",e.processor=e.processorOrganization,e}var r,n;return j()(t,e),y()(t,[{key:"findMyAll",value:(n=d()(p.a.mark((function e(){var t,r=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("GET",""+this.api);case 2:return(t=e.sent).data=t.data.map((function(e){return r.processor(e)})),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"addCollaborator",value:(r=d()(p.a.mark((function e(t,r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("POST",this.api+"/"+t+"/collaborators",{body:{data:r}});case 2:return(n=e.sent).data&&n.data.user&&(n.data.user=this.processorUser(n.data.user)),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"deleteCollaborator",value:function(e){var t=e.orgId,r=e.email;return this.request("DELETE",this.api+"/"+t+"/collaborators",{body:{data:{email:r}}})}},{key:"updateCollaboratorRole",value:function(e){var t=e.orgId,r=e.email,n=e.role;return this.request("PATCH",this.api+"/"+t+"/collaborators/role",{body:{data:{email:r,role:n}}})}},{key:"confirmCollaborator",value:function(e){return this.request("POST",this.api+"/collaborators/confirm",{body:{data:e}})}}]),t}(G));function Ct(e,t,r,n){r&&i()(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Pt(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var At,zt,Nt=new(Et=function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return Ct(e,"myList",Ot,e),Ct(e,"myListLoaded",_t,e),e.data={},e}var r,n,i,a,o,s,c,u;return j()(t,e),y()(t,[{key:"addOrganization",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.force,n=void 0!==r&&r,i=t.assign,a=void 0!==i&&i;if(n||!this.data[e.id]||a){var o=e;if(this.data[e.id]&&a){var s=this.data[e.id];o=T()({},s,o)}o.projects&&o.projects.forEach((function(t){be.addProject(T()({},t,{organizationId:e.id}))})),this.data[e.id]=o}}},{key:"findMyAll",value:(u=d()(p.a.mark((function e(){var t,r,n,i=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt.findMyAll();case 2:return t=e.sent,r=t.data,n=r.map((function(e){return i.addOrganization(e),e.id})),this.myList.replace(n),this.myListLoaded=!0,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)}))),function(){return u.apply(this,arguments)})},{key:"findById",value:(c=d()(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt.findById(t);case 2:return r=e.sent,n=r.data,this.addOrganization(n,{force:!0}),this.triggerObserver(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return c.apply(this,arguments)})},{key:"create",value:(s=d()(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt.create(t);case 2:return r=e.sent,n=r.data,this.addOrganization(n),this.myList.unshift(n.id),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"updateById",value:(o=d()(p.a.mark((function e(t,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt.updateById(t,r);case 2:this.addOrganization(T()({},r,{id:t}),{assign:!0}),this.triggerObserver();case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"removeById",value:(a=d()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.myList.findIndex((function(e){return e===t})),e.prev=1,this.myList.splice(r,1),e.next=5,Bt.removeById(t);case 5:delete this.data[t],e.next=12;break;case 8:throw e.prev=8,e.t0=e.catch(1),this.myList.splice(r,0,t),e.t0;case 12:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(e){return a.apply(this,arguments)})},{key:"addCollaborator",value:(i=d()(p.a.mark((function e(t,r){var n,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt.addCollaborator(t,r);case 2:n=e.sent,i=n.data,this.data[t].members=this.data[t].members||[],this.data[t].members.push(i),this.triggerObserver();case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return i.apply(this,arguments)})},{key:"updateCollaboratorRole",value:(n=d()(p.a.mark((function e(t){var r,n=t.orgId,i=t.email,a=t.role;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt.updateCollaboratorRole({orgId:n,email:i,role:a});case 2:r=this.data[n].members.findIndex((function(e){return e.email===i})),this.data[n].members[r].role=a,this.triggerObserver();case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"deleteCollaborator",value:(r=d()(p.a.mark((function e(t){var r,n=t.orgId,i=t.email;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bt.deleteCollaborator({orgId:n,email:i});case 2:r=this.data[n].members.findIndex((function(e){return e.email===i})),this.data[n].members.splice(r,1),this.triggerObserver();case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"confirmCollaborator",value:function(e){return Bt.confirmCollaborator(e)}}]),t}(de),Ot=Pt(Et.prototype,"myList",[m.n],{enumerable:!0,initializer:function(){return[]}}),_t=Pt(Et.prototype,"myListLoaded",[m.n],{enumerable:!0,initializer:function(){return!1}}),Pt(Et.prototype,"findMyAll",[m.f],o()(Et.prototype,"findMyAll"),Et.prototype),Pt(Et.prototype,"findById",[m.f],o()(Et.prototype,"findById"),Et.prototype),Pt(Et.prototype,"create",[m.f],o()(Et.prototype,"create"),Et.prototype),Pt(Et.prototype,"updateById",[m.f],o()(Et.prototype,"updateById"),Et.prototype),Pt(Et.prototype,"removeById",[m.f],o()(Et.prototype,"removeById"),Et.prototype),Pt(Et.prototype,"addCollaborator",[m.f],o()(Et.prototype,"addCollaborator"),Et.prototype),Pt(Et.prototype,"updateCollaboratorRole",[m.f],o()(Et.prototype,"updateCollaboratorRole"),Et.prototype),Pt(Et.prototype,"deleteCollaborator",[m.f],o()(Et.prototype,"deleteCollaborator"),Et.prototype),Pt(Et.prototype,"confirmCollaborator",[m.f],o()(Et.prototype,"confirmCollaborator"),Et.prototype),Et),Mt=new(function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return e.api="/api/diagrams",e.processor=e.processorDiagram,e}return j()(t,e),y()(t,[{key:"findAllByProject",value:function(e){var t=this;return this.request("GET",this.api+"/projects/"+e).then((function(e){return T()({},e,{data:e.data.map((function(e){return t.processor(e)}))})}))}}]),t}(G));function St(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var Rt,Dt=new(At=function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return function(e,t,r,n){r&&i()(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(e,"observerTrigger",zt,e),e.data={},e.projects={},e}var r,n,a,o,s;return j()(t,e),y()(t,[{key:"addDiagram",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.force,n=void 0!==r&&r,i=t.assign,a=void 0!==i&&i;if(n||!this.data[e.id]||a){var o=e;if(this.data[e.id]&&a){var s=this.data[e.id];o=T()({},s,o)}this.data[e.id]=o}}},{key:"findById",value:(s=d()(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt.findById(t);case 2:return r=e.sent,n=r.data,this.addDiagram(n,{force:!0}),this.triggerObserver(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return s.apply(this,arguments)})},{key:"create",value:(o=d()(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt.create(t);case 2:return r=e.sent,n=r.data,this.addDiagram(n),this.projects[n.projectId]=this.projects[n.projectId]||{data:[]},this.projects[n.projectId].data.push(n.id),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"updateById",value:(a=d()(p.a.mark((function e(t,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt.updateById(t,r);case 2:this.addDiagram(T()({},r,{id:t}),{assign:!0}),this.triggerObserver();case 4:case"end":return e.stop()}}),e,this)}))),function(e,t){return a.apply(this,arguments)})},{key:"removeById",value:(n=d()(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.data[t],n=-1,this.projects[r.projectId]&&(n=this.projects[r.projectId].data.findIndex((function(e){return e===t}))),e.prev=3,-1!==n&&this.projects[r.projectId].data.splice(n,1),e.next=7,Mt.removeById(t);case 7:return delete this.data[t],e.abrupt("return",{inProjectIdx:n});case 11:throw e.prev=11,e.t0=e.catch(3),-1!==n&&this.projects[r.projectId].data.splice(n,0,t),e.t0;case 15:case"end":return e.stop()}}),e,this,[[3,11]])}))),function(e){return n.apply(this,arguments)})},{key:"findAllByProject",value:(r=d()(p.a.mark((function e(t){var r,n,i,a=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mt.findAllByProject(t);case 2:return r=e.sent,n=r.data,i=n.map((function(e){return a.addDiagram(e),e.id})),this.projects[t]={data:i},this.triggerObserver(),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}]),t}(de),zt=St(At.prototype,"observerTrigger",[m.n],{enumerable:!0,initializer:function(){return 1}}),St(At.prototype,"findById",[m.f],o()(At.prototype,"findById"),At.prototype),St(At.prototype,"create",[m.f],o()(At.prototype,"create"),At.prototype),St(At.prototype,"updateById",[m.f],o()(At.prototype,"updateById"),At.prototype),St(At.prototype,"removeById",[m.f],o()(At.prototype,"removeById"),At.prototype),St(At.prototype,"findAllByProject",[m.f],o()(At.prototype,"findAllByProject"),At.prototype),At),Lt=new(function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return e.api="/api/memberships",e}var r;return j()(t,e),y()(t,[{key:"isMembershipValid",value:(r=d()(p.a.mark((function e(){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("GET",this.api+"/subscriptions/result");case 2:return t=e.sent,(r=t.data).user&&(r.user=this.processorUser(r.user)),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"cancelSubs",value:function(){return this.request("POST",this.api+"/subscriptions/cancel")}}]),t}(G));function Ft(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var qt,Yt=new(Ft((Rt=function(){function e(){h()(this,e)}var t,r;return y()(e,[{key:"isMembershipValid",value:(r=d()(p.a.mark((function e(){var t,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lt.isMembershipValid();case 2:return t=e.sent,r=t.result,n=t.user,r&&Z.updateUser(n),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:"cancelSubs",value:(t=d()(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Lt.cancelSubs();case 2:Z.cancelSubs();case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}()).prototype,"isMembershipValid",[m.f],o()(Rt.prototype,"isMembershipValid"),Rt.prototype),Ft(Rt.prototype,"cancelSubs",[m.f],o()(Rt.prototype,"cancelSubs"),Rt.prototype),Rt),Ut=new(function(e){function t(){return h()(this,t),w()(this,(t.__proto__||k()(t)).apply(this,arguments))}return j()(t,e),y()(t,[{key:"vote",value:function(e){return this.request("POST","/api/features",{body:{data:{feature:e}}})}}]),t}(G));var Kt,Gt=new(function(e,t,r,n,i){var a={};Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null)}((qt=function(){function e(){h()(this,e)}return y()(e,[{key:"vote",value:function(e){return Ut.vote(e)}}]),e}()).prototype,"vote",[m.f],o()(qt.prototype,"vote"),qt.prototype),qt),Vt=new(function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return e.api="/api/marketings",e}return j()(t,e),y()(t,[{key:"addContact",value:function(e){return this.request("POST",""+this.api,{body:{data:{email:e}}})}}]),t}(G));var Ht,Wt,Qt,Jt=new(function(e,t,r,n,i){var a={};Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null)}((Kt=function(){function e(){h()(this,e)}return y()(e,[{key:"addContact",value:function(e){return Vt.addContact(e)}}]),e}()).prototype,"addContact",[m.f],o()(Kt.prototype,"addContact"),Kt.prototype),Kt),Xt=new(function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return e.api="/api/activities",e.processor=e.processorActivity,e}var r;return j()(t,e),y()(t,[{key:"findAllByProject",value:(r=d()(p.a.mark((function e(t){var r,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.offset,o=void 0===a?0:a,s=i.limit,c=void 0===s?10:s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("GET",this.api+"/projects/"+t,{query:{page:{offset:o,limit:c}}});case 2:return(r=e.sent).data&&(r.data=r.data.map((function(e){return n.processor(e)}))),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}]),t}(G));function Zt(e,t,r,n){r&&i()(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function $t(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var er,tr,rr=new(Ht=function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return Zt(e,"observerTrigger",Wt,e),Zt(e,"isLoaded",Qt,e),e.data={},e.projects={},e}var r;return j()(t,e),y()(t,[{key:"addActivity",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.force,n=void 0!==r&&r,i=t.assign,a=void 0!==i&&i;if(n||!this.data[e.id]||a){var o=e;if(this.data[e.id]&&a){var s=this.data[e.id];o=T()({},s,o)}this.data[e.id]=o}}},{key:"findAllByProject",value:(r=d()(p.a.mark((function e(t){var r,n,i,a,o,s=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=c.refresh,l=void 0!==u&&u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=10,n=l?0:this.projects[t]?this.projects[t].data.length:0,e.next=4,Xt.findAllByProject(t,{offset:n,limit:r});case 4:return i=e.sent,a=i.data,o=a.map((function(e){return s.addActivity(e,{assign:!0}),e.id})),this.projects[t]=this.projects[t]||{data:[]},l&&(this.projects[t].data=o),l||(this.projects[t].data=this.projects[t].data.concat(o)),this.projects[t].isAllLoaded=o.length<r,this.triggerObserver(),e.abrupt("return",a);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}]),t}(de),Wt=$t(Ht.prototype,"observerTrigger",[m.n],{enumerable:!0,initializer:function(){return 1}}),Qt=$t(Ht.prototype,"isLoaded",[m.n],{enumerable:!0,initializer:function(){return!1}}),$t(Ht.prototype,"findAllByProject",[m.f],o()(Ht.prototype,"findAllByProject"),Ht.prototype),Ht),nr=new(function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return e.api="/api/api-templates",e.processor=e.processorApiTemplate,e}var r,n;return j()(t,e),y()(t,[{key:"findOneByProjectId",value:(n=d()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("GET",this.api+"/projects/"+t);case 2:return(r=e.sent).data&&(r.data=this.processor(r.data)),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"createOrUpdate",value:(r=d()(p.a.mark((function e(t,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.request("POST",this.api+"/projects/"+t,{body:{data:r}}));case 1:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}]),t}(G));function ir(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ar,or=new(er=function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return function(e,t,r,n){r&&i()(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(e,"observerTrigger",tr,e),e.data={},e.projects={},e}var r,n;return j()(t,e),y()(t,[{key:"addApiTemplate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.force,n=void 0!==r&&r,i=t.assign,a=void 0!==i&&i;if(n||!this.data[e.id]||a){var o=e;if(this.data[e.id]&&a){var s=this.data[e.id];o=T()({},s,o)}this.data[e.id]=o}}},{key:"triggerObserver",value:function(){var e=this.observerTrigger<2?1:-1;this.observerTrigger+=e}},{key:"findOneByProjectId",value:(n=d()(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr.findOneByProjectId(t);case 2:return r=e.sent,(n=r.data)&&this.addApiTemplate(n,{force:!0}),this.projects[t]={data:n&&n.id||null},this.triggerObserver(),e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"createOrUpdate",value:(r=d()(p.a.mark((function e(t,r){var n,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr.createOrUpdate(t,r);case 2:return n=e.sent,i=n.data,this.addApiTemplate({id:i,templates:r},{assign:!0}),this.projects[t]={data:i},this.triggerObserver(),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}]),t}(de),tr=ir(er.prototype,"observerTrigger",[m.n],{enumerable:!0,initializer:function(){return 1}}),ir(er.prototype,"findOneByProjectId",[m.f],o()(er.prototype,"findOneByProjectId"),er.prototype),ir(er.prototype,"createOrUpdate",[m.f],o()(er.prototype,"createOrUpdate"),er.prototype),er),sr=new(function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return e.api="/api/mock-responses",e}return j()(t,e),y()(t,[{key:"updateResById",value:function(e,t){return this.request("PATCH",this.api+"/"+e+"/res",{body:{data:t}})}},{key:"enableById",value:function(e,t){return this.request("POST",this.api+"/"+e+"/enable",{body:{data:t}})}}]),t}(G));function cr(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var ur,pr,lr=new(cr((ar=function(e){function t(e){h()(this,t);var r=w()(this,(t.__proto__||k()(t)).call(this,e));return r.data={},r.endpoints={},r}var r,n;return j()(t,e),y()(t,[{key:"addMockResponse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.force,n=void 0!==r&&r,i=t.assign,a=void 0!==i&&i;if(n||!this.data[e.id]||a){var o=e;if(this.data[e.id]&&a){var s=this.data[e.id];o=T()({},s,o)}if(this.data[e.id]=o,e.endpointId){this.endpoints[e.endpointId]=this.endpoints[e.endpointId]||{data:[]};var c=this.endpoints[e.endpointId];c.data.includes(e.id)||c.data.push(e.id)}}}},{key:"updateResById",value:(n=d()(p.a.mark((function e(t,r){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sr.updateResById(t,r);case 2:this.data[t].response.res=r;case 3:case"end":return e.stop()}}),e,this)}))),function(e,t){return n.apply(this,arguments)})},{key:"enableById",value:(r=d()(p.a.mark((function e(t,r){var n,i=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sr.enableById(t,r);case 2:n=this.data[t].endpointId,this.endpoints[n].data.forEach((function(e){i.data[e].isActive=!1})),this.data[t].response.res=r,this.data[t].isActive=!0,this.triggerObserver();case 7:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})}]),t}(de)).prototype,"updateResById",[m.f],o()(ar.prototype,"updateResById"),ar.prototype),cr(ar.prototype,"enableById",[m.f],o()(ar.prototype,"enableById"),ar.prototype),ar),dr=new(function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return e.api="/api/previews",e.processor=e.processorPreview,e}var r,n;return j()(t,e),y()(t,[{key:"deploy",value:(n=d()(p.a.mark((function e(t){var r,n=t.projectId,i=t.extraData,a=t.password;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("POST",this.api+"/projects/"+n+"/deploy",{body:{data:{password:a,extraData:i}}});case 2:return(r=e.sent).data&&(r.data=this.processor(r.data)),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"login",value:function(e){var t=e.id,r=e.password;return this.request("POST",this.api+"/"+t+"/login",{body:{data:{password:r}}})}},{key:"findByProject",value:(r=d()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request("GET",this.api+"/projects/"+t);case 2:return(r=e.sent).data&&(r.data=this.processor(r.data)),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}]),t}(G)),fr=new(function(){function e(){h()(this,e)}var t;return y()(e,[{key:"fetch",value:(t=d()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N()("get",t);case 2:return r=e.sent,e.abrupt("return",r.text);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}()),hr=r("ODRq"),vr=r.n(hr),yr=function(e,t){return"object"===(void 0===t?"undefined":C()(t))&&null!==t&&"Map"===t.dataType?new vr.a(t.value):t};function mr(e,t,r,n,i){var a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var gr=new(ur=function(e){function t(){h()(this,t);var e=w()(this,(t.__proto__||k()(t)).call(this));return function(e,t,r,n){r&&i()(e,t,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}(e,"observerTrigger",pr,e),e.data={},e.projects={},e.files={},e.endpointSet={},e}var r,n,a,o,s;return j()(t,e),y()(t,[{key:"addPreview",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.force,n=void 0!==r&&r,i=t.assign,a=void 0!==i&&i;if(n||!this.data[e.id]||a){var o=e;if(this.data[e.id]&&a){var s=this.data[e.id];o=T()({},s,o)}this.data[e.id]=o}}},{key:"triggerObserver",value:function(){var e=this.observerTrigger<2?1:-1;this.observerTrigger+=e}},{key:"_fetchPreviewFile",value:(s=d()(p.a.mark((function e(t,r){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fr.fetch(r);case 2:n=e.sent,this.files[t]=JSON.parse(n,yr),this.triggerObserver();case 5:case"end":return e.stop()}}),e,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"findById",value:(o=d()(p.a.mark((function e(t){var r,n,i=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr.findById(t);case 2:return r=e.sent,n=r.data,this.addPreview(n,{force:!0}),n.fileUrl&&this._fetchPreviewFile(t,n.fileUrl),n.mockResponses.forEach((function(e){i.endpointSet[t]=i.endpointSet[t]||new O.a,i.endpointSet[t].add(e.endpointId),lr.addMockResponse(e)})),this.triggerObserver(),e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})},{key:"removeById",value:(a=d()(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr.removeById(t);case 2:delete this.data[t];case 3:case"end":return e.stop()}}),e,this)}))),function(e){return a.apply(this,arguments)})},{key:"deploy",value:(n=d()(p.a.mark((function e(t){var r,n,i=t.projectId,a=t.extraData,o=t.password;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr.deploy({projectId:i,extraData:a,password:o});case 2:r=e.sent,n=r.data,this.addPreview(n,{assign:!0}),this.projects[i]={data:n.id},this.triggerObserver();case 7:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"login",value:function(e){var t=e.id,r=e.password;return dr.login({id:t,password:r})}},{key:"findByProject",value:(r=d()(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dr.findByProject(t);case 2:r=e.sent,(n=r.data)?(this.addPreview(n,{assign:!0}),this.projects[t]={data:n.id}):this.projects[t]={data:null},this.triggerObserver();case 6:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})}]),t}(de),pr=mr(ur.prototype,"observerTrigger",[m.n],{enumerable:!0,initializer:function(){return 1}}),mr(ur.prototype,"findById",[m.f],o()(ur.prototype,"findById"),ur.prototype),mr(ur.prototype,"removeById",[m.f],o()(ur.prototype,"removeById"),ur.prototype),mr(ur.prototype,"deploy",[m.f],o()(ur.prototype,"deploy"),ur.prototype),mr(ur.prototype,"login",[m.f],o()(ur.prototype,"login"),ur.prototype),mr(ur.prototype,"findByProject",[m.f],o()(ur.prototype,"findByProject"),ur.prototype),ur)},I3Qx:function(e,t,r){"use strict";r.d(t,"a",(function(){return p}));var n=r("q1tI"),i=r.n(n),a=r("TSYQ"),o=r.n(a),s=r("Fu3s"),c=r("99/u"),u=r("Wc11");function p(e){var t=e.className,r=e.desc,a=Object(n.createRef)(),p=function(){var e=a.current.value;if(!e||!Object(c.a)(e))return a.current.getError();s.h.addContact(e),s.n.notifySuccess("Thanks for the subscription!"),a.current.clean()};return i.a.createElement("div",{className:o()("flex flex-col items-center",t)},i.a.createElement("p",null,r||"Every month a newsletter with updates from the Product and Marketing of Dapi"),i.a.createElement("p",null,"subscribe below to receive it ",i.a.createElement("span",{role:"img","aria-label":"pointer"},"ððð")),i.a.createElement("div",{className:"flex items-center justify-center mt-4"},i.a.createElement(u.a,{placeholder:"Email...",className:"w-56",onKeyUp:function(e){13===e.keyCode&&p()},ref:a}),i.a.createElement("button",{className:"btn secondary text-sm py-2 px-8 ml-5",onClick:p},"Subscribe")))}},LkIm:function(e,t,r){"use strict";r.r(t)},MtYX:function(e,t,r){"use strict";(function(e){var n=r("GQeE"),i=r.n(n),a=r("iCc5"),o=r.n(a),s=r("V7oC"),c=r.n(s),u=r("VNV7"),p=r("+kMu"),l=function(){function t(){o()(this,t),this.innerDotAmount=7,this.innerDotMargin=5,this.lineMap={},this.modelMap={}}return c()(t,[{key:"registerLine",value:function(e,t,r){var n=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!document.getElementById(Object(p.c)(e))||!document.getElementById(Object(p.c)(t)))return setTimeout((function(){n.registerLine(e,t,i)}),100);if(this.lineMap[r])return this.lineMap[r].reference+=1,r;var a=document.getElementById(u.c),o=document.createElementNS("http://www.w3.org/2000/svg","polyline");o.id=r,o.style.stroke="#000",o.style.strokeWidth=1,o.style.strokeDasharray="2,2",o.style.fill="none";var s=this._getPolylinePoints(e,t,i),c=s.points,l=s.end1CenterIdx,d=s.end2CenterIdx;return o.setAttribute("points",c),a.appendChild(o),this.lineMap[r]={end1:e,end2:t,end1CenterIdx:l,end2CenterIdx:d,reference:1},this.modelMap[e]=this.modelMap[e]||{lines:[]},this.modelMap[e].lines.push(r),this.modelMap[t]=this.modelMap[t]||{lines:[]},this.modelMap[t].lines.push(r),this.adjustLinePosition(i),r}},{key:"_byScale",value:function(e,t){return parseFloat((e/t).toFixed(2))}},{key:"_getPolylinePoints",value:function(e,t,r,n){var i=document.getElementById(Object(p.c)(e)),a=document.getElementById(Object(p.c)(t)),o=i.getBoundingClientRect(),s=a.getBoundingClientRect(),c=document.getElementById(u.b).getBoundingClientRect(),l=void 0,d=void 0;if(n){var f=this.lineMap[n];l=f.end1CenterIdx,d=f.end2CenterIdx}else l=this.modelMap[e]?this.modelMap[e].lines.length%this.innerDotAmount:0,d=this.modelMap[t]?this.modelMap[t].lines.length%this.innerDotAmount:0;var h=-c.x,v=-c.y,y=(l-Math.floor(this.innerDotAmount/2))*this.innerDotMargin*r,m=(d-Math.floor(this.innerDotAmount/2))*this.innerDotMargin*r;return{points:this._byScale(o.left+o.width/2+y+h,r)+","+this._byScale(o.top+o.height/2-y+v,r)+" "+this._byScale(s.left+s.width/2+m+h,r)+","+this._byScale(o.top+o.height/2-y+v,r)+" "+this._byScale(s.left+s.width/2+m+h,r)+","+this._byScale(s.top+s.height/2-m+v,r),end1CenterIdx:l,end2CenterIdx:d}}},{key:"adjustLinePosition",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;i()(this.modelMap).forEach((function(r){e.modelMap[r].lines&&e.modelMap[r].lines.filter((function(e){return Boolean(e)})).forEach((function(r){var n=e.lineMap[r],i=n.end1,a=n.end2,o=e._getPolylinePoints(i,a,t,r).points,s=document.getElementById(r);s&&s.setAttribute("points",o)}))}))}},{key:"moveModel",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.modelMap[e]&&this.modelMap[e].lines.filter((function(e){return Boolean(e)})).forEach((function(e){var n=t.lineMap[e],i=n.end1,a=n.end2,o=t._getPolylinePoints(i,a,r,e).points,s=document.getElementById(e);s&&s.setAttribute("points",o)}))}},{key:"removeModel",value:function(e){var t=Object(p.c)(e);if(this.modelMap[t]&&this.modelMap[t].lines){for(;this.modelMap[t].lines.length>0;)this.removeLine(this.modelMap[t].lines[0]);delete this.modelMap[t]}}},{key:"removeLine",value:function(t){if(this.lineMap[t]){var r=this.lineMap[t],n=r.end1,i=r.end2,a=this.modelMap[n].lines.findIndex((function(e){return e===t}));this.modelMap[n].lines.splice(a,1);var o=this.modelMap[i].lines.findIndex((function(e){return e===t}));this.modelMap[i].lines.splice(o,1),this.lineMap[t].reference-=1,0===this.lineMap[t].reference&&(delete this.lineMap[t],e("#"+t).remove()),this._recalculateCenterIdx(n),this._recalculateCenterIdx(i);var s=Object(p.e)().scale;this.adjustLinePosition(s)}}},{key:"_recalculateCenterIdx",value:function(e){var t=this;if(this.modelMap[e]){var r=0;this.modelMap[e].lines.forEach((function(n){if(t.lineMap[n]){var i=r%t.innerDotAmount;t.lineMap[n].end1===e&&(t.lineMap[n].end1CenterIdx=i),t.lineMap[n].end2===e&&(t.lineMap[n].end2CenterIdx=i),r+=1}}))}}},{key:"highlightRelatedLines",value:function(t){var r=this.modelMap[t];r&&r.lines&&r.lines.forEach((function(t){e("#"+t).css({stroke:"#568ef2",strokeWidth:2})}))}},{key:"unhighlightRelatedLines",value:function(t){var r=this.modelMap[t];r&&r.lines&&r.lines.forEach((function(t){e("#"+t).css({stroke:"#000",strokeWidth:1})}))}},{key:"reset",value:function(){this.lineMap={},this.modelMap={}}}]),t}();t.a=new l}).call(this,r("r7DH"))},Ogzj:function(e,t,r){"use strict";r.d(t,"a",(function(){return T}));var n,i,a,o=r("Yz+Y"),s=r.n(o),c=r("iCc5"),u=r.n(c),p=r("V7oC"),l=r.n(p),d=r("FYw3"),f=r.n(d),h=r("mRg0"),v=r.n(h),y=r("q1tI"),m=r.n(y),g=r("2vnA"),b=r("TyAF"),k=r("17x9"),I=r.n(k),w=r("TSYQ"),x=r.n(w),j=r("dtw8"),E=r("RvMy"),O=r("Fu3s"),_=r("xVpj");r("35HF");var T=Object(b.a)((a=i=function(e){function t(e){u()(this,t);var r=f()(this,(t.__proto__||s()(t)).call(this,e));return r.state={isAccountOpen:!1,isAddingOpen:!1},r}return v()(t,e),l()(t,[{key:"toggleAdding",value:function(){var e=this.state.isAddingOpen;this.setState({isAddingOpen:!e})}},{key:"toggleAccount",value:function(){var e=this.state.isAccountOpen;this.setState({isAccountOpen:!e})}},{key:"selectOpt",value:function(e){var t=this.props.router;switch(e){case"addProject":t.push("/project-create");break;case"addOrg":t.push("/org-create");break;case"profile":t.push("/profile");break;case"upgrade":t.push("/memberships/buy");break;case"signout":O.c.logout(),t.replace("/")}return!1}},{key:"render",value:function(){var e=this.props,t=e.leftComponent,r=e.centerComponent,n=e.rightComponent,i=e.className,a=e.id,o=this.state,s=o.isAccountOpen,c=o.isAddingOpen;return m.a.createElement("header",{id:a,className:x()("Header text-black py-5",i)},m.a.createElement("div",{className:"wrapper flex items-center justify-between"},m.a.createElement("div",{className:"left"},t),m.a.createElement("div",{className:"center"},r),m.a.createElement("div",{className:"right flex justify-end"},n,O.c.isLogin&&m.a.createElement("div",{className:"flex items-center"},m.a.createElement(_.a,{align:"right",optClassName:"z-99 text-black",options:[{label:"New project",value:"addProject"},{label:"New organization",value:"addOrg"}],onOpen:this.toggleAdding.bind(this),onClose:this.toggleAdding.bind(this),onChange:this.selectOpt.bind(this),eventBubble:!0},m.a.createElement("div",{className:"flex items-center cursor-pointer hover:opacity-75 transition-20"},m.a.createElement("i",{className:"iconfont iconadd text-xs font-bold"}),m.a.createElement("i",{className:x()("iconfont iconarrow-right-filling-center text-xs ml-1 transition-20",{rotate90:!c,"transform -rotate-90":c})}))),m.a.createElement(_.a,{align:"right",optClassName:"z-99 text-black",options:[{label:"Profile",value:"profile"},{label:"Upgrade",value:"upgrade"},{label:"Sign out",value:"signout"}],onOpen:this.toggleAccount.bind(this),onClose:this.toggleAccount.bind(this),onChange:this.selectOpt.bind(this),eventBubble:!0},m.a.createElement("div",{className:"flex items-center cursor-pointer hover:opacity-75 transition-20 ml-5 z-50"},m.a.createElement(E.a,{className:"w-5 h-5",user:Object(g.q)(O.c.user)}),m.a.createElement("i",{className:x()("iconfont iconarrow-right-filling-center rotate90 text-xs ml-1 transition-20",{rotate90:!s,"transform -rotate-90":s})})))),!O.c.isLogin&&m.a.createElement("div",{className:"flex items-center text-sm font-bold font-sf"},m.a.createElement(j.a,{to:"/login",className:"btn py-2 px-5"},"Login"),m.a.createElement(j.a,{to:"/login?mode=signup",className:"btn secondary py-2 px-5 ml-3"},"Signup")))))}}]),t}(y.Component),i.propTypes={leftComponent:I.a.node,centerComponent:I.a.node,rightComponent:I.a.node,router:I.a.object.isRequired,className:I.a.string,id:I.a.string},n=a))||n},RvMy:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r("QbLZ"),i=r.n(n),a=r("q1tI"),o=r.n(a),s=r("TSYQ"),c=r.n(s),u=r("mS/U"),p=r.n(u);function l(e){var t=e.user,r=e.className;return t.avatarConfig?o.a.createElement(p.a,i()({className:r},t.avatarConfig)):o.a.createElement("img",{src:t.avatarUrl,className:c()("object-contain rounded-full",r)})}},TIOC:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return F}));var n,i,a=r("YEIV"),o=r.n(a),s=r("QbLZ"),c=r.n(s),u=r("Yz+Y"),p=r.n(u),l=r("iCc5"),d=r.n(l),f=r("V7oC"),h=r.n(f),v=r("FYw3"),y=r.n(v),m=r("mRg0"),g=r.n(m),b=r("q1tI"),k=r.n(b),I=r("TSYQ"),w=r.n(I),x=r("nEhc"),j=r.n(x),E=r("Wgwc"),O=r.n(E),_=r("Fu3s"),T=r("hqmY"),B=r("374s"),C=[{date:"2021.08.24",title:"Mock API server",desc:"Deploy a mock API server based on the openAPI doc, start integration before API ready.",image:B.PROD_DOMAIN+"/changelog/20210824.png",icon:"iconcollection-fill"},{date:"2021.08.16",title:"API doc site",desc:"Build a password-protected doc site to share with teams.",image:B.PROD_DOMAIN+"/changelog/20210816.png",icon:"iconcollection-fill"},{date:"2021.08.11",title:"API generator",desc:"Quick generate openAPI based on your template, the default template is classic RESTful API",image:B.PROD_DOMAIN+"/changelog/20210811.png",icon:"iconhot-fill"},{date:"2021.08.09",title:"OpenAPI snippets",desc:"Have to keep googling openAPI format? We know exactly what it feels so we add snippets for your reference.",image:B.PROD_DOMAIN+"/changelog/20210809.png",icon:"iconfavorites-fill"},{date:"2021.08.06",title:"History records",desc:"So your team wont ask each other when it has changed.",image:B.PROD_DOMAIN+"/changelog/20210806.png",icon:"iconlighting"},{date:"2021.08.02",title:"Flow diagram",desc:"Flow diagram is a good fit for logic demonstration.",image:B.PROD_DOMAIN+"/changelog/20210802.png",icon:"iconhot-fill"},{date:"2021.07.30",title:"Model supports Index and Composite Index",desc:"Mark out index and composite-index in model section.",image:B.PROD_DOMAIN+"/changelog/20210730.png",icon:"iconfavorites-fill"},{date:"2021.07.26",title:"Modify section orders",desc:"Adjust the section order in each of your project, hide some of them if you dont need them.",image:B.PROD_DOMAIN+"/changelog/20210726.png",icon:"iconhot-fill"},{date:"2021.07.19",title:"Depi debut",desc:"Using tools like openAPI editor, database modeling and sequence diagram all in one platform. Inviting collaborators into your project or setup your team to follow the API building process.",video:"https://www.youtube.com/watch?v=pyGDKy5mY-8",icon:"iconlighting"}],P=r("//nA"),A=r("Fl18"),z=r("I3Qx"),N=r("17x9"),M=r.n(N),S=r("HMs9"),R=r.n(S),D=(i=n=function(e){function t(e){d()(this,t);var r=y()(this,(t.__proto__||p()(t)).call(this,e));return r.state={isFullScreen:!1},r.keyUpCloseFullScreen=r.keyUpCloseFullScreen.bind(r),r}return g()(t,e),h()(t,[{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this.keyUpCloseFullScreen)}},{key:"toggleFullScreen",value:function(){var e=this,t=this.state.isFullScreen;this.setState({isFullScreen:!t},(function(){t?window.removeEventListener("keyup",e.keyUpCloseFullScreen):window.addEventListener("keyup",e.keyUpCloseFullScreen)}))}},{key:"keyUpCloseFullScreen",value:function(e){e.keyCode===B.KEY_CODE.ESC&&this.setState({isFullScreen:!1})}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.src,n=this.state.isFullScreen;return k.a.createElement(b.Fragment,null,k.a.createElement(R.a,{height:200},k.a.createElement("img",{src:r,className:w()("cursor-pointer",t),onClick:this.toggleFullScreen.bind(this)})),n&&k.a.createElement("div",{className:"modal"},k.a.createElement("i",{className:"iconfont iconclose",onClick:this.toggleFullScreen.bind(this)}),k.a.createElement("img",{src:r,className:"w-10/12 h-4/5 rounded object-contain"})))}}]),t}(b.Component),n.propTypes={className:M.a.string,src:M.a.string},i);r("EAkX");var L=[{desc:"Subscribe to API/Model/Diagram and get notification when it updated",value:"subscribe"},{desc:"Support GraphQL in API section",value:"graphql"},{desc:"Slack integration for the update/review-request notifications",value:"slack"},{desc:"API/Model/Diagram export PDF",value:"export-pdf"}],F=function(e){function t(e){d()(this,t);var r=y()(this,(t.__proto__||p()(t)).call(this,e)),n=L.reduce((function(e,t){var r=t.value;return e[r]=Boolean(T.a.get(r)),e}),{});return r.state=c()({},n),r}return g()(t,e),h()(t,[{key:"vote",value:function(e){_.g.vote(e),T.a.set(e,"true"),this.setState(o()({},e,!0))}},{key:"render",value:function(){var e=this;return k.a.createElement(b.Fragment,null,k.a.createElement(P.a,{router:this.props.router}),k.a.createElement("div",{className:"ChangeLog min-h-screen flex flex-col items-center"},k.a.createElement("div",{className:"changeLogList py-10"},k.a.createElement(z.a,{className:"pb-10 mb-16 mx-auto"}),C.map((function(e,t){return k.a.createElement("div",{key:e.date,className:w()("flex",{"py-16":0!==t,"pb-16":0===t})},k.a.createElement("div",{className:"w-24 grey-light"},k.a.createElement("p",{className:"font-bold font-sf text-xl"},O()(e.date).format("ddd")),k.a.createElement("p",{className:"text-xs leading-none"},O()(e.date).format("MM/DD - YYYY"))),k.a.createElement("div",{className:"flex-1 ml-16 leading-tight"},k.a.createElement("p",{className:"font-bold font-sf text-xl"},e.title),k.a.createElement("p",null,e.desc),e.image&&k.a.createElement(D,{src:e.image,className:"object-contain mt-3"}),e.video&&k.a.createElement(j.a,{className:"mt-3",width:"540px",height:"303px",url:e.video})))})),k.a.createElement("div",{className:"py-10 mt-20"},k.a.createElement("p",{className:"font-bold font-sf text-xl"},"Upcoming features"),L.map((function(t){return k.a.createElement("div",{key:t.value,className:"flex items-center justify-between featureItem"},k.a.createElement("p",null,t.desc),k.a.createElement("button",{className:w()("btn text-sm py-1.5 w-20 text-center",{secondary:!e.state[t.value],"secondary-transparent pointer-events-none":e.state[t.value]}),onClick:e.vote.bind(e,t.value)},e.state[t.value]?"Voted":"I want it"))}))))),k.a.createElement(A.a,null))}}]),t}(b.Component)},VNV7:function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return a}));var n="projectDBRelationSVG",i="projectDBRelation",a="projectDBRelationInner"},Wc11:function(e,t,r){"use strict";r.d(t,"a",(function(){return I}));var n,i,a=r("Yz+Y"),o=r.n(a),s=r("iCc5"),c=r.n(s),u=r("V7oC"),p=r.n(u),l=r("FYw3"),d=r.n(l),f=r("mRg0"),h=r.n(f),v=r("q1tI"),y=r.n(v),m=r("17x9"),g=r.n(m),b=r("TSYQ"),k=r.n(b);r("LkIm");var I=(i=n=function(e){function t(e){c()(this,t);var r=d()(this,(t.__proto__||o()(t)).call(this,e));return r.state={showTip:!!e.defaultValue,value:e.defaultValue||"",isError:!1},r.inputRef=Object(v.createRef)(),r}return h()(t,e),p()(t,[{key:"getError",value:function(){this.setState({isError:!0})}},{key:"focus",value:function(){var e=this.props.onFocus,t=this.state.value;this.inputRef.current.focus(),this.inputRef.current.selectionStart=t.length,this.inputRef.current.selectionEnd=t.length,e&&e()}},{key:"clean",value:function(){return this.setState({isError:!1,value:""})}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.setState({showTip:!!e,isError:!1,value:e})}},{key:"onChange",value:function(e){var t=this.props.onChange,r=e.target.value,n={isError:!1,value:r};this.setState(n,(function(){t&&t(r)}))}},{key:"onFocus",value:function(){var e=this.props.onFocus;this.setState({showTip:!0}),e&&e()}},{key:"onBlur",value:function(){var e=this.props.onBlur,t=this.state.value;t||this.setState({showTip:!1}),e&&e(t)}},{key:"render",value:function(){var e=this.props,t=e.placeholder,r=e.type,n=void 0===r?"text":r,i=e.className,a=e.inputClassName,o=e.noTip,s=e.onKeyUp,c=e.inputId,u=this.state,p=u.showTip,l=u.value,d=u.isError;return y.a.createElement("div",{className:k()("Input",i,{error:d})},!o&&y.a.createElement("div",{className:k()("tip",{isPlaceholder:!p,"text-xs":p})},y.a.createElement("p",null,t)),y.a.createElement("input",{id:c||null,className:k()("inputElem",a),placeholder:o?t:"",ref:this.inputRef,type:n,value:l,onChange:this.onChange.bind(this),onKeyUp:s,onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this)}))}},{key:"value",get:function(){return this.state.value}}]),t}(v.Component),n.propTypes={placeholder:g.a.string,type:g.a.string,defaultValue:g.a.string,onChange:g.a.func,onBlur:g.a.func,onFocus:g.a.func,className:g.a.string,inputClassName:g.a.string,noTip:g.a.bool,onKeyUp:g.a.func,inputId:g.a.string},i)},hqmY:function(e,t,r){"use strict";var n=r("gDS+"),i=r.n(n),a=r("EJiy"),o=r.n(a);t.a={get:function(e){return window.sessionStorage.getItem(e)},set:function(e,t){"number"==typeof t&&(t=String(t)),"object"===(void 0===t?"undefined":o()(t))&&(t=i()(t)),window.sessionStorage.setItem(e,t)},remove:function(e){window.sessionStorage.removeItem(e)},clear:function(){window.sessionStorage.clear()}}},v4hW:function(e,t,r){"use strict";r.r(t)},xVpj:function(e,t,r){"use strict";r.d(t,"a",(function(){return T}));var n,i,a=r("14Xm"),o=r.n(a),s=r("EJiy"),c=r.n(s),u=r("D3Ub"),p=r.n(u),l=r("Yz+Y"),d=r.n(l),f=r("iCc5"),h=r.n(f),v=r("V7oC"),y=r.n(v),m=r("FYw3"),g=r.n(m),b=r("mRg0"),k=r.n(b),I=r("q1tI"),w=r.n(I),x=r("17x9"),j=r.n(x),E=r("TSYQ"),O=r.n(E),_=r("OLES");r("3Px7");var T=(i=n=function(e){function t(e){h()(this,t);var r=g()(this,(t.__proto__||d()(t)).call(this,e));return r.state={isOpen:!1,optAction:{},customerComponent:e.customerComponent||null},r.close=r.close.bind(r),r}var r,n;return k()(t,e),y()(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.close)}},{key:"toggle",value:function(e){var t=this,r=this.props,n=r.eventBubble,i=r.customerComponent;e&&!n&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation());var a=this.props,o=a.onOpen,s=a.onClose,c=this.state.isOpen,u={isOpen:!c};c||(u.optAction={},u.customerComponent=i||null),this.setState(u,(function(){!c?(document.addEventListener("click",t.close),o&&o()):(document.removeEventListener("click",t.close),s&&s())}))}},{key:"close",value:function(e){var t=this;e&&e.stopPropagation();var r=this.props.onClose;this.setState({isOpen:!1},(function(){document.removeEventListener("click",t.close),r&&r()}))}},{key:"onClickOpt",value:(n=p()(o.a.mark((function e(t,r,n){var i,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.state.optAction,n.stopPropagation(),n.nativeEvent.stopImmediatePropagation(),a=this.props.onChange,e.next=6,a(t);case 6:s=e.sent,e.t0=void 0===s?"undefined":c()(s),e.next="boolean"===e.t0?10:"object"===e.t0?12:17;break;case 10:return s||this.close(),e.abrupt("break",17);case 12:if(!s.customerComponent){e.next=14;break}return e.abrupt("return",this.setState({customerComponent:s.customerComponent}));case 14:return i[r]=s,this.setState({optAction:i}),e.abrupt("break",17);case 17:case"end":return e.stop()}}),e,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"cancelAction",value:function(e,t){t.stopPropagation(),t.nativeEvent.stopImmediatePropagation();var r=this.state.optAction;delete r[e],this.setState({optAction:r})}},{key:"confirmAction",value:(r=p()(o.a.mark((function e(t,r){var n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.stopPropagation(),r.nativeEvent.stopImmediatePropagation(),n=this.state.optAction,i=n[t].cb,e.next=6,i();case 6:case"end":return e.stop()}}),e,this)}))),function(e,t){return r.apply(this,arguments)})},{key:"genOptions",value:function(e){var t=this,r=this.props.descriptionClassName,n=this.state.optAction;return e.map((function(e,i){if(n[i])switch(n[i].action){case"confirm":return w.a.createElement("div",{key:e.value,className:"whitespace-nowrap cursor-pointer py-2 px-6 flex items-center justify-between"},w.a.createElement("span",{className:"red transition-20 hover:opacity-75",onClick:t.cancelAction.bind(t,i)},"Cancel"),w.a.createElement("span",{className:"ml-3 green transition-20 hover:opacity-75",onClick:t.confirmAction.bind(t,i)},"Confirm"))}var a=w.a.createElement("div",{key:e.value,className:"whitespace-nowrap cursor-pointer py-2 px-6 transition-35 hover:opacity-50",style:{color:e.color||"inherit"},onClick:t.onClickOpt.bind(t,e.value,i)},w.a.createElement("p",null,e.label),e.description&&w.a.createElement("p",{className:O()("text-xs grey-light",r)},e.description));return e.tooltip?w.a.createElement(_.a,{key:e.value,placement:"left",mouseEnterDelay:.8,overlay:w.a.createElement("span",null,e.tooltip)},a):a}))}},{key:"render",value:function(){var e=this.props.className,t=this.props,r=t.optClassName,n=t.options,i=t.align,a=t.childShowWhenOpen,o=this.state,s=o.isOpen,c=o.customerComponent,u=!c&&this.genOptions(n);return/(absolute|relative|fixed|sticky)/.test(e)||(e+=" relative"),w.a.createElement("div",{className:O()("SubMenu inline-block",e,{childShow:s&&a}),onClick:this.toggle.bind(this)},{...this.props.children},w.a.createElement("div",{className:O()("absolute left-0 right-0 top-full",{"flex justify-center":"center"===i})},w.a.createElement("div",{className:O()("opts grey-shadow absolute text-sm rounded py-2 z-10",r,{active:s,"pointer-events-none":!s,"left-0":"left"===i,"right-0":"right"===i}),onWheel:function(e){return e.stopPropagation()}},c?c(this.close.bind(this)):u)))}}]),t}(I.Component),n.propTypes={className:j.a.string,optClassName:j.a.string,options:j.a.arrayOf(j.a.shape({value:j.a.string,label:j.a.string,tooltip:j.a.string,description:j.a.string,color:j.a.string})),onChange:j.a.func,align:j.a.oneOf(["left","right","center"]),onOpen:j.a.func,onClose:j.a.func,childShowWhenOpen:j.a.bool,eventBubble:j.a.bool,descriptionClassName:j.a.string,customerComponent:j.a.func},n.defaultProps={align:"right",childShowWhenOpen:!0,eventBubble:!1},i)}}]);